/*
    *
    * Wijmo Library 5.20151.48
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){"use strict";var u=function(n){function t(t){n.call(this);this._engine=t}return __extends(t,n),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(n.EventArgs),i,r;t.RenderEventArgs=u;i=function(i){function r(){i.apply(this,arguments);this._palette=null;this._selectionMode=0;this._defPalette=t.Palettes.standard;this._notifyCurrentChanged=!0;this._legendHost=null;this._needBind=!1;this.rendering=new n.Event;this.rendered=new n.Event}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=n.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(n){n!=this._plotMargin&&(this._plotMargin=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"legend",{get:function(){return this._legend},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(n){n!=this._headerStyle&&(this._headerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(n){n!=this._footerStyle&&(this._footerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(i){i!=this._selectionMode&&(this._selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.onRendered=function(n){this.rendered.raise(this,n)},r.prototype.onRendering=function(n){this.rendering.raise(this,n)},r.prototype.refresh=function(n){typeof n=="undefined"&&(n=!0);this.isUpdating||this._refreshChart()},r.prototype._cvCollectionChanged=function(){this._clearCachedValues();this._bindChart()},r.prototype._cvCurrentChanged=function(){this._notifyCurrentChanged&&this._bindChart()},r.prototype._getColor=function(n){var t=this._defPalette;return this._palette!=null&&this._palette.length>0&&(t=this._palette),t[n%t.length]},r.prototype._getColorLight=function(t){var i=this._getColor(t),r=new n.Color(i);return r!=null&&(r.a*=.7,i=r.toString()),i},r.prototype._bindChart=function(){this._needBind=!0;this.invalidate()},r.prototype._clearCachedValues=function(){},r.prototype._render=function(){},r.prototype._performBind=function(){},r.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind());this._render(this._currentRenderEngine)},r.prototype._drawTitle=function(i,r,u,f,e){var o=t.FlexChart._CSS_TITLE,s=e?t.FlexChart._CSS_FOOTER:t.FlexChart._CSS_HEADER,h=null;if(e?this._rectFooter=null:this._rectHeader=null,u!=null){var a=null,c=null,v=null,l=null;f&&(f.fontSize&&(a=f.fontSize),f.foreground&&(c=f.foreground),f.fill&&(c=f.fill),f.fontFamily&&(v=f.fontFamily),f.halign&&(l=f.halign));i.fontSize=a;i.fontFamily=v;h=i.measureString(u,o,s,f);r.height-=h.height;c||(c=t.FlexChart._FG);i.textFill=c;e?(l=="left"?t.FlexChart._renderText(i,u,new n.Point(r.left,r.bottom),0,0,o,s,f):l=="right"?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,r.bottom),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,r.bottom),1,0,o,s,f),this._rectFooter=new n.Rect(r.left,r.bottom,r.width,h.height)):(this._rectHeader=new n.Rect(r.left,r.top,r.width,h.height),r.top+=h.height,l=="left"?t.FlexChart._renderText(i,u,new n.Point(r.left,0),0,0,o,s,f):l=="right"?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,0),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,0),1,0,o,s,f));i.textFill=null;i.fontSize=null;i.fontFamily=null}return r},r.prototype._toControl=function(t,i){var r,o,u,f,e;return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),r=t.clone(),o=this._getHostOffset(),r.x-=o.x,r.y-=o.y,u=this._getHostComputedStyle(),u&&(f=parseInt(u.paddingLeft.replace("px","")),f&&!isNaN(f)&&(r.x-=f),e=parseInt(u.paddingTop.replace("px","")),e&&!isNaN(e)&&(r.y-=e)),r},r.prototype._highlightItems=function(t,i,r){var u;if(r)for(u=0;u<t.length;u++)n.addClass(t[u],i);else for(u=0;u<t.length;u++)n.removeClass(t[u],i)},r.prototype._parseMargin=function(t){var r={};if(n.isNumber(t)&&!isNaN(t))r.top=r.bottom=r.left=r.right=n.asNumber(t);else if(n.isString(t)){var s=n.asString(t),i=s.split(" ",4),u=NaN,f=NaN,e=NaN,o=NaN;i&&(i.length==4?(u=parseFloat(i[0]),o=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3])):i.length==2?(u=f=parseFloat(i[0]),e=o=parseFloat(i[1])):i.length==1&&(u=f=e=o=parseFloat(i[1])),isNaN(u)||(r.top=u),isNaN(f)||(r.bottom=f),isNaN(e)||(r.left=e),isNaN(o)||(r.right=o))}return r},r.prototype._showToolTip=function(n,t){var i=this,r=this._tooltip.showDelay;i._clearTimeouts();r>0?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,n,t);i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},r):(i._tooltip.show(i.hostElement,n,t),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay)))},r.prototype._hideToolTip=function(){this._clearTimeouts();this._tooltip.hide()},r.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},r.prototype._getHostOffset=function(){var t=n.getElementRect(this.hostElement);return new n.Point(t.left,t.top)},r.prototype._getHostSize=function(){var i=new n.Size,f=this.hostElement,t=this._getHostComputedStyle(),r=f.offsetWidth,u=f.offsetHeight;if(t){var e=parseFloat(t.paddingLeft.replace("px","")),o=parseFloat(t.paddingRight.replace("px","")),s=parseFloat(t.paddingTop.replace("px","")),h=parseFloat(t.paddingBottom.replace("px",""));isNaN(e)||(r-=e);isNaN(o)||(r-=o);isNaN(s)||(u-=s);isNaN(h)||(u-=h);i.width=r;i.height=u}return i},r.prototype._getHostComputedStyle=function(){var n=this.hostElement;return n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},r.prototype._find=function(n,t){for(var i,r,u,f=[],e=0;e<n.childElementCount;e++)if(i=n.childNodes.item(e),t.indexOf(i.nodeName)>=0)f.push(i);else if(r=this._find(i,t),r.length>0)for(u=0;u<r.length;u++)f.push(r[u]);return f},r._WIDTH=300,r._HEIGHT=200,r._SELECTION_THRESHOLD=15,r}(n.Control);t.FlexChartBase=i;r=function(){function t(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null;this._keys.value=null;this._keys.name=null}return t.prototype.replace=function(t,i){var r=this;return n.format(t,{},function(n,t,u){return r.getValue(t,i,u)})},t.prototype.getValue=function(t,i,r){return t=="seriesName"&&i.series?i.series.name:t=="pointIndex"&&i.pointIndex!==null?i.pointIndex.toFixed():t=="y"&&i.series?r?n.Globalize.format(i.y,r):i._yfmt:t=="x"&&i.series?r?n.Globalize.format(i.x,r):i._xfmt:t=="value"?r?n.Globalize.format(i.value,r):i.value:t=="name"?i.name:i.item&&i.item[t]?r?n.Globalize.format(i.item[t],r):i.item[t]:""},t}();t._KeyWords=r})(n.chart||(n.chart={}));var t=n.chart})(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var f=function(f){function e(i,r){f.call(this,i,null,!0);this._areas=[];this._keywords=new t._KeyWords;this._startAngle=0;this._innerRadius=0;this._offset=0;this._reversed=!1;this._isAnimated=!1;this._selectedItemPosition=0;this._selectedItemOffset=0;this._rotationAngle=0;this._center=new n.Point;this._selectedOffset=new n.Point;this._selectedIndex=-1;this._angles=[];this._values=[];this._labels=[];this._pels=[];this._sum=0;this.applyTemplate("wj-control wj-flexchart",null,null);this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._legend=new t.Legend(this);this._tooltip=new t.ChartTooltip;this._tooltip.content="<b>{name}<\/b><br/>{value}";this._tooltip.showDelay=0;this._lbl=new t.PieDataLabel;this._lbl._chart=this;var u=this;this.hostElement.addEventListener("mousemove",function(t){var r=u._tooltip,e=r.content,i,f;e&&!u.isTouching&&(i=u.hitTest(t),i.distance<=r.threshold?(f=u._getLabelContent(i,u.tooltip.content),u._showToolTip(f,new n.Rect(t.clientX,t.clientY,5,5))):u._hideToolTip())});this.hostElement.addEventListener("click",function(i){var o=!0,f,e,s,r,h;u.selectionMode!=0&&(r=u.hitTest(i),f=t.FlexChart._SELECTION_THRESHOLD,u.tooltip&&u.tooltip.threshold&&(f=u.tooltip.threshold),r.distance<=f?(r.pointIndex!=u._selectionIndex&&u.selectedItemPosition!=0&&(o=!1),u._select(r.pointIndex,!0)):u._select(null));o&&u.isTouching&&(e=u._tooltip,s=e.content,s&&(r=u.hitTest(i),r.distance<=e.threshold?(h=u._getLabelContent(r,u.tooltip.content),u._showToolTip(h,new n.Rect(i.clientX,i.clientY,5,5))):u._hideToolTip()))});this.initialize(r);this.refresh()}return __extends(e,f),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=n.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){t!=this._selectedItemPosition&&(this._selectedItemPosition=n.asEnum(t,n.chart.Position,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(n){n!=this._isAnimated&&(this._isAnimated=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(n,i){var u=this._toControl(n,i),r=new t.HitTestInfo(this,u),e=null,a,o,f,l;if(t.FlexChart._contains(this._rectHeader,u))r._chartElement=5;else if(t.FlexChart._contains(this._rectFooter,u))r._chartElement=6;else if(t.FlexChart._contains(this._rectLegend,u))r._chartElement=4,e=this.legend._hitTest(u),e!==null&&e>=0&&e<this._areas.length&&(r._pointIndex=e);else if(t.FlexChart._contains(this._rectChart,u)){for(a=this._areas.length,o=0;o<a;o++){if(f=u.clone(),this._rotationAngle!=0){var v=this._center.x,y=this._center.y,s=-v+f.x,h=-y+f.y,c=Math.sqrt(s*s+h*h),p=Math.atan2(h,s)-this._rotationAngle*Math.PI/180;o==this._selectedIndex&&(c-=this._radius*this.selectedItemOffset);f.x=v+c*Math.cos(p);f.y=y+c*Math.sin(p)}if(l=this._areas[o],l.contains(f)){r._pointIndex=l.tag;r._dist=0;break}}r._chartElement=3}else r._chartElement=9;return r},e.prototype._performBind=function(){var r,e,u,i,t,f;if(this._sum=0,this._values=[],this._labels=[],this._cv&&(this._selectionIndex=this._cv.currentPosition,r=this._cv.items,r))for(e=r.length,u=0;u<e;u++)i=r[u],this.binding&&(i=i[this.binding]),t=0,n.isNumber(i)&&!isNaN(t)&&isFinite(t)?t=n.asNumber(i):i&&(t=parseFloat(i.toString())),!isNaN(t)&&isFinite(t)?(this._sum+=Math.abs(t),this._values.push(t)):(t=0,this._values.push(t)),this.bindingName&&r[u]?(f=r[u][this.bindingName],f&&(f=f.toString()),this._labels.push(f)):this._labels.push(t.toString())},e.prototype._render=function(i){var v,l,s,h,r,u,c;this._selectionAnimationID&&clearInterval(this._selectionAnimationID);var y=this.hostElement,a=this._getHostSize(),f=a.width,o=a.height;if((f==0||isNaN(f))&&(f=t.FlexChart._WIDTH),(o==0||isNaN(o))&&(o=t.FlexChart._HEIGHT),v=new n.Size(f,o),i.beginRender(),f>0&&o>0){i.setViewportSize(f,o);this._areas=[];l=this.legend;r=new n.Rect(0,0,f,o);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();f=r.width;o=r.height;s=l._getDesiredSize(i);switch(l.position){case 3:f-=s.width;h=new n.Point(f,r.top+.5*(o-s.height));break;case 1:r.left+=s.width;f-=s.width;h=new n.Point(0,r.top+.5*(o-s.height));break;case 2:o-=s.height;h=new n.Point(.5*(f-s.width),r.top);r.top+=s.height;break;case 4:o-=s.height;h=new n.Point(.5*(f-s.width),r.top+o)}r.width=f;r.height=o;this.onRendering(new t.RenderEventArgs(i));this._pieGroup=i.startGroup(null,null,!0);u=this._parseMargin(this.plotMargin);c=this.dataLabel.content&&this.dataLabel.position==3;isNaN(u.left)&&(u.left=c?24:e._MARGIN);isNaN(u.right)&&(u.right=c?24:e._MARGIN);isNaN(u.top)&&(u.top=c?24:e._MARGIN);isNaN(u.bottom)&&(u.bottom=c?24:e._MARGIN);r.top+=u.top;r.height-=u.top+u.bottom;r.left+=u.left;r.width-=u.left+u.right;this._renderData(i,r,this._pieGroup);i.endGroup();s?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(h.x,h.y,s.width,s.height),this.legend._render(i,h),i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._rotationAngle=0;this._highlightCurrent();this.dataLabel.content&&this.dataLabel.position!=0&&this._renderLabels(i);this.onRendered(new t.RenderEventArgs(i))}i.endRender()},e.prototype._renderData=function(i,r){var rt=this,k,d,nt,u,h,c,g,v;this._pels=[];this._angles=[];var ut=this._values.length,y=this._sum,ft=this.startAngle+180,a=this.reversed==!0,et=this.innerRadius,s=this.offset,p=null;if(y>0){var o=ft*Math.PI/180,w=r.left+.5*r.width,b=r.top+.5*r.height,f=Math.min(.5*r.width,.5*r.height);for(this._center.x=w,this._center.y=b,k=Math.max(s,this.selectedItemOffset),k>0&&(f=f/(1+k),s=s*f),this._radius=f,d=et*f,nt=0,u=0;u<ut;u++){h=w;c=b;i.fill=this._getColorLight(u);i.stroke=this._getColor(u);var tt=Math.abs(this._values[u]),e=Math.abs(tt-y)<1e-10?2*Math.PI:2*Math.PI*tt/y,ot=i.startGroup(),it=s,l=a?o-.5*e:o+.5*e;u==this._cv.currentPosition&&(nt=l);this._angles.push(l);p&&u<p.length&&(it=p[u]);it>0&&(g=o+.5*e,a&&(g=-g),h+=s*Math.cos(l),c+=s*Math.sin(l));e>=2*Math.PI&&(h=w,c=b);this.itemFormatter?(v=new t.HitTestInfo(this,new n.Point(h+f*Math.cos(l),c+f*Math.sin(l))),v._chartElement=8,v._pointIndex=u,this.itemFormatter(i,v,function(){rt._drawSilce(i,u,a,h,c,f,d,o,e)})):this._drawSilce(i,u,a,h,c,f,d,o,e);a?o-=e:o+=e;i.endGroup();this._pels.push(ot)}this._highlightCurrent()}},e.prototype._renderLabels=function(r){var g=this._areas.length,l=this.dataLabel,y=l.position,o=2,nt=this._rotationAngle,h,a,s,w,b,c;for(r.stroke="null",r.fill="transparent",r.strokeWidth=1,h=0;h<g;h++)if(a=this._areas[h],a){var p=a.radius,u=a.langle+nt,f=1,e=1;y==2?p*=.5:(u=i.clampAngle(u),u<=-170||u>=170?(f=2,e=1):u>=-100&&u<=-80?(f=1,e=2):u>=-10&&u<=-10?(f=0,e=1):u>=80&&u<=100?(f=1,e=0):-180<u&&u<-90?(f=2,e=2):-90<=u&&u<0?(f=0,e=2):0<u&&u<90?(f=0,e=0):90<u&&u<180&&(f=2,e=0),y==1&&(f=2-f,e=2-e));u*=Math.PI/180;var k=0,d=0,v=0;v=h==this._selectedIndex&&this.selectedItemOffset>0?this.selectedItemOffset:this.offset;v>0&&(k=Math.cos(u)*v*this._radius,d=Math.sin(u)*v*this._radius);s=new n.Point(this._center.x+k+p*Math.cos(u),this._center.y+d+p*Math.sin(u));l.border&&y!=2&&(f==0?s.x+=o:f==2&&(s.x-=o),e==0?s.y+=o:e==2&&(s.y-=o));w=new t.HitTestInfo(this,s);w._pointIndex=h;b=this._getLabelContent(w,l.content);b&&(c=t.FlexChart._renderText(r,b,s,f,e,"wj-data-label"),l.border&&r.drawRect(c.left-o,c.top-o,c.width+2*o,c.height+2*o,"wj-data-label-border"))}},e.prototype._drawSilce=function(t,i,f,e,o,s,h,c,l){var a;f?h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c-l,l),a=new u(new n.Point(e,o),s,h,c-l,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c-l,l),a=new r(new n.Point(e,o),s,c-l,l),a.tag=i,this._areas.push(a)):(h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c,l),a=new u(new n.Point(e,o),s,h,c,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c,l),a=new r(new n.Point(e,o),s,c,l),a.tag=i,this._areas.push(a)),c+=l)},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,r&&(f=i.measureString(r,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawLegendItem=function(i,r,u,f){i.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,e=null,o=null;e===null&&(e=this._getColorLight(u));o===null&&(o=this._getColor(u));i.fill=e;i.stroke=o;var c=r.top+.5*r.height,l=t.Series._LEGEND_ITEM_WIDTH,s=t.Series._LEGEND_ITEM_HEIGHT;i.drawRect(r.left+h,c-.5*s,l,s,null);f&&t.FlexChart._renderText(i,f,new n.Point(r.left+s+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},e.prototype._select=function(n,t){if(typeof t=="undefined"&&(t=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=n,this._highlight(!0,this._selectionIndex,t),this.selectionMode==2){var i=this._cv;i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(n),this._notifyCurrentChanged=!0)}!this.isAnimated&&(this.selectedItemOffset>0||this.selectedItemPosition!=0)&&this.invalidate()},e.prototype._highlightCurrent=function(){if(this.selectionMode!=0){var n=-1,t=this._cv;t&&(n=t.currentPosition);this._highlight(!0,n)}},e.prototype._highlight=function(n,i,r){var u,h,f,e,o,s,c,l;typeof r=="undefined"&&(r=!1);this.selectionMode==2&&i!==undefined&&i!==null&&i>=0&&(u=this._pels[i],n?(u.parentNode.appendChild(u),h=this._find(u,["ellipse"]),this._highlightItems(this._find(u,["path","ellipse"]),t.FlexChart._CSS_SELECTION,n),f=this._angles[i],this.selectedItemPosition!=0&&f!=0&&(e=0,this.selectedItemPosition==1?e=180:this.selectedItemPosition==2?e=-90:this.selectedItemPosition==4&&(e=90),o=e*Math.PI/180-f,o*=180/Math.PI,r&&this.isAnimated?this._animateSelectionAngle(o,.5):(this._rotationAngle=o,this._pieGroup.transform.baseVal.getItem(0).setRotate(o,this._center.x,this._center.y))),s=this.selectedItemOffset,s>0&&h.length==0&&(c=this._selectedOffset.x=Math.cos(f)*s*this._radius,l=this._selectedOffset.y=Math.sin(f)*s*this._radius,u.setAttribute("transform","translate("+c.toFixed()+","+l.toFixed()+")")),this._selectedIndex=i):(u.parentNode.insertBefore(u,u.parentNode.childNodes.item(i)),u.removeAttribute("transform"),this._highlightItems(this._find(u,["path","ellipse"]),t.FlexChart._CSS_SELECTION,n),this._selectedIndex==i&&(this._selectedIndex=-1)))},e.prototype._animateSelectionAngle=function(t,r){var f=i.clampAngle(this._rotationAngle);t=i.clampAngle(t);var e=t-f,u=this,o=f,s=u._pieGroup;u._selectionAnimationID&&clearInterval(this._selectionAnimationID);this._selectionAnimationID=n.animate(function(n){s==u._pieGroup&&(u._rotationAngle=f=o+e*n,u._pieGroup.transform.baseVal.getItem(0).setRotate(f,u._center.x,u._center.y),n==1&&clearInterval(u._selectionAnimationID),n>.99&&(u.selectedItemOffset>0||u.selectedItemPosition!=0)&&u.invalidate())},r*1e3)},e._MARGIN=4,e}(t.FlexChartBase);t.FlexPie=f;var i=function(){function n(){}return n.clampAngle=function(n){var t=(n+180)%360-180;return t<-180&&(t+=360),t},n}(),r=function(){function n(n,t,r,u){this._isFull=!1;this._center=n;this._radius=t;u>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*u*180/Math.PI;this._angle=i.clampAngle(r*180/Math.PI+this._sweep);this._radius2=t*t}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,e=t*t+r*r,u,f;return e<=this._radius2&&(u=Math.atan2(r,t)*180/Math.PI,f=i.clampAngle(this._angle-u),this._isFull||Math.abs(f)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),n}(),u=function(){function n(n,t,r,u,f){this._isFull=!1;this._center=n;this._radius=t;this._iradius=r;f>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*f*180/Math.PI;this._angle=i.clampAngle(u*180/Math.PI+this._sweep);this._radius2=t*t;this._iradius2=r*r}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f,e;return u>=this._iradius2&&u<=this._radius2&&(f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle-f),this._isFull||Math.abs(e)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),n}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var f,e,u,i,r;(function(n){n[n.None=0]="None";n[n.Stacked=1]="Stacked";n[n.Stacked100pc=2]="Stacked100pc"})(t.Stacking||(t.Stacking={}));f=t.Stacking,function(n){n[n.None=0]="None";n[n.Series=1]="Series";n[n.Point=2]="Point"}(t.SelectionMode||(t.SelectionMode={}));e=t.SelectionMode;u=function(u){function f(f,e){var o,s,h;u.call(this,f,null,!0);this._series=new n.collections.ObservableArray;this._axes=new t.AxisCollection;this._axisX=new t.Axis(4);this._axisY=new t.Axis(1);this._interpolateNulls=!1;this._legendToggle=!1;this._symbolSize=10;this._dataInfo=new i;this.__barPlotter=null;this.__linePlotter=null;this.__areaPlotter=null;this.__bubblePlotter=null;this.__financePlotter=null;this._plotters=[];this._rotated=!1;this._stacking=0;this._xlabels=[];this._xvals=[];this.selectionChanged=new n.Event;this.seriesVisibilityChanged=new n.Event;this.applyTemplate("wj-control wj-flexchart",null,null);o=this;o._series.collectionChanged.addHandler(function(){for(var t,r=o._series,i=0;i<r.length;i++){if(t=n.tryCast(r[i],n.chart.SeriesBase),!t)throw"chartSeries array must contain SeriesBase objects.";t._chart=o;t.axisX&&(t.axisX._chart=o);t.axisY&&(t.axisY._chart=o)}o.refresh()});this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._hitTester=new t._HitTester(this);this._legend=new t.Legend(this);this._tooltip=new r;this._tooltip.showDelay=0;this._lbl=new t.DataLabel;this._lbl._chart=this;s=this._axisX;h=this._axisY;this._axisX.majorGrid=!1;this._axisX.name="axisX";this._axisY.majorGrid=!0;this._axisY.majorTickMarks=0;this._axisY.name="axisY";s._chart=this;h._chart=this;this._axes.push(s);this._axes.push(h);o._axes.collectionChanged.addHandler(function(){for(var i,r=o._axes,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.Axis),!i)throw"axes array must contain Axis objects.";i._chart=o}o.refresh()});this._keywords=new t._KeyWords;this.hostElement.addEventListener("click",function(t){var r=o._tooltip,f=r.content,i,u;f&&o.isTouching&&(i=o.hitTest(t),i.distance<=r.threshold?(u=o._getLabelContent(i,o._tooltip.content),o._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):o._hideToolTip())});this.hostElement.addEventListener("mousemove",function(t){var r=o._tooltip,f=r.content,i,u;f&&!o.isTouching&&(i=o.hitTest(t),i.distance<=r.threshold?(u=o._getLabelContent(i,o._tooltip.content),o._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):o._hideToolTip())});this.hostElement.addEventListener("click",function(n){if(o.selectionMode!=0){var i=o._hitTestData(n),r=t.FlexChart._SELECTION_THRESHOLD;o.tooltip&&o.tooltip.threshold&&(r=o.tooltip.threshold);i.distance<=r&&i.series?o._select(i.series,i.pointIndex):o.selectionMode==1?(i=o.hitTest(n),i.chartElement==4&&i.series?o._select(i.series,null):o._select(null,null)):o._select(null,null)}o.legendToggle===!0&&(i=o.hitTest(n),i.chartElement==4&&i.series&&(i.series.visibility==2?i.series.visibility=0:i.series.visibility==0&&(i.series.visibility=2)))});this.initialize(e)}return __extends(f,u),Object.defineProperty(f.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"axisX",{get:function(){return this._axisX},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"axisY",{get:function(){return this._axisY},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dataLabel",{get:function(){return this._lbl},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"selection",{get:function(){return this._selection},set:function(i){i!=this._selection&&(this._selection=n.asType(i,t.SeriesBase,!0),this.invalidate())},enumerable:!0,configurable:!0}),f.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},f.prototype.onSeriesVisibilityChanged=function(n){this.seriesVisibilityChanged.raise(this,n)},f.prototype.hitTest=function(n,i){var u=this._toControl(n,i),r=new t.HitTestInfo(this,u),e=null,s,h;if(t.FlexChart._contains(this._rectHeader,u))r._chartElement=5;else if(t.FlexChart._contains(this._rectFooter,u))r._chartElement=6;else if(t.FlexChart._contains(this._rectLegend,u))r._chartElement=4,e=this.legend._hitTest(u),e!==null&&e>=0&&e<this.series.length&&(r._series=this.series[e]);else if(t.FlexChart._contains(this._rectChart,u)){var o=this._hitTester.hitTest(u),f=null,c=null;for(s=this.series.length-1;s>=0;s--)if(this.series[s].hitTest!==t.Series.prototype.hitTest&&(h=this.series[s].hitTest(n),h&&((!f||h.distance<f.distance)&&(f=h,c=s),h.distance===0)))break;o&&o.area?f&&f.distance<o.distance?r=f:f&&f.distance==o.distance&&c>o.area.tag.seriesIndex?r=f:(r._pointIndex=o.area.tag.pointIndex,e=o.area.tag.seriesIndex,e!==null&&e>=0&&e<this.series.length&&(r._series=this.series[e]),r._dist=o.distance):f&&(r=f);t.FlexChart._contains(this.axisX._axrect,u)?r._chartElement=1:t.FlexChart._contains(this.axisY._axrect,u)?r._chartElement=2:t.FlexChart._contains(this._plotRect,u)?r._chartElement=0:t.FlexChart._contains(this._rectChart,u)&&(r._chartElement=3)}else r._chartElement=9;return r},f.prototype.pointToData=function(t,i){return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),t instanceof MouseEvent?(t=new n.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},f.prototype.dataToPoint=function(t,i){n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i));n.asType(t,n.Point);var r=t.clone();return r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),r},f.prototype._copy=function(t,i){var u,r,f;if(t=="series"){for(u=n.asArray(i),r=0;r<u.length;r++)f=this._createSeries(),n.copy(f,u[r]),this.series.push(f);return!0}return!1},f.prototype._createSeries=function(){return new t.Series},f.prototype._clearCachedValues=function(){for(var t,n=0;n<this._series.length;n++)t=this._series[n],t.itemsSource==null&&t._clearValues()},f.prototype._performBind=function(){var r,f,u,e,i;if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv&&(r=this._cv.items,r)){for(f=r.length,u=0;u<f;u++)e=r[u],this._bindingX&&(i=e[this._bindingX],n.isNumber(i)?(this._xvals.push(n.asNumber(i)),this._xDataType=2):n.isDate(i)&&(this._xvals.push(t.FlexChart._toOADate(n.asDate(i))),this._xDataType=4),this._xlabels.push(e[this._bindingX]));this._xvals.length==f?this._xlabels.splice(0):this._xvals.splice(0)}},f.prototype._hitTestSeries=function(n,i){var e=this._toControl(n),r=new t.HitTestInfo(this,e),u=i,f=this._hitTester.hitTestSeries(e,i);return f&&f.area&&(r._pointIndex=f.area.tag.pointIndex,u=f.area.tag.seriesIndex,u!==null&&u>=0&&u<this.series.length&&(r._series=this.series[u]),r._chartElement=0,r._dist=f.distance),r},f.prototype._hitTestData=function(n){var f=this._toControl(n),u=new t.HitTestInfo(this,f),i=this._hitTester.hitTest(f,!0),r;return i&&i.area&&(u._pointIndex=i.area.tag.pointIndex,r=i.area.tag.seriesIndex,r!==null&&r>=0&&r<this.series.length&&(u._series=this.series[r]),u._dist=i.distance),u},f._dist2=function(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r},f._dist=function(n,i,r){return Math.sqrt(t.FlexChart._distToSegmentSquared(n,i,r))},f._distToSegmentSquared=function(i,r,u){var e=t.FlexChart._dist2(r,u),f;return e==0?t.FlexChart._dist2(i,r):(f=((i.x-r.x)*(u.x-r.x)+(i.y-r.y)*(u.y-r.y))/e,f<0)?t.FlexChart._dist2(i,r):f>1?t.FlexChart._dist2(i,u):t.FlexChart._dist2(i,new n.Point(r.x+f*(u.x-r.x),r.y+f*(u.y-r.y)))},f.prototype._isRotated=function(){return this._getChartType()==1?!this._rotated:this._rotated},f.prototype._getChartType=function(){return null},f.prototype._render=function(i){var st=this.hostElement,ft=this._getHostSize(),f=ft.width,e=ft.height,et,tt,o,l,r,w,c,b,k,d,a,it,v,rt,g,ut,h,u,s,p;if((f==0||isNaN(f))&&(f=t.FlexChart._WIDTH),(e==0||isNaN(e))&&(e=t.FlexChart._HEIGHT),et=new n.Size(f,e),i.beginRender(),f>0&&e>0){i.setViewportSize(f,e);this._hitTester.clear();tt=this.legend;r=new n.Rect(0,0,f,e);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();f=r.width;e=r.height;o=tt._getDesiredSize(i);switch(tt.position){case 3:f-=o.width;l=new n.Point(f,r.top+.5*(e-o.height));break;case 1:r.left+=o.width;f-=o.width;l=new n.Point(0,r.top+.5*(e-o.height));break;case 2:e-=o.height;l=new n.Point(.5*(f-o.width),r.top);r.top+=o.height;break;case 4:e-=o.height;l=new n.Point(.5*(f-o.width),r.top+e)}for(r.width=f,r.height=e,s=this._getPlotter(null),s.stacking=this._stacking,w=this._isRotated(),this._dataInfo.analyse(this._series,w,s.stacking,this._xvals.length>0?this._xvals:null,this.axisX.logBase>0,this.axisY.logBase>0),c=s.adjustLimits(this._dataInfo,r.clone()),w?(b=this._dataInfo.getDataTypeX(),b||(b=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),c.left,c.right),this.axisY._updateActualLimits(b,c.top,c.bottom,this._xlabels,this._xvals)):(k=this._dataInfo.getDataTypeX(),k||(k=this._xDataType),this.axisX._updateActualLimits(k,c.left,c.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),c.top,c.bottom)),d=this._getAxes(),this._updateAuxAxes(d,w),this._layout(r,et,i),i.startGroup(t.FlexChart._CSS_PLOT_AREA),a=this._plotRect,i.fill="transparent",i.stroke=null,i.drawRect(a.left,a.top,a.width,a.height),i.endGroup(),it=this._series.length,this._clearPlotters(),v={},h=0;h<it;h++)u=this._series[h],rt=u._getAxisY(),rt&&(g=rt._uniqueId,v[g]?v[g].count+=1:v[g]={count:1,index:0}),s=this._getPlotter(u),s.seriesCount++;this.onRendering(new t.RenderEventArgs(i));for(h=0;h<d.length;h++)ut=d[h],ut.axisType==0?i.startGroup(t.FlexChart._CSS_AXIS_X):i.startGroup(t.FlexChart._CSS_AXIS_Y),ut._render(i),i.endGroup();for(i.startGroup(),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),i.addClipRect(this._plotRect,this._plotrectId),h=0;h<it;h++){u=this._series[h];u._pointIndexes=[];s=this._getPlotter(u);u._hostElement=i.startGroup(u.cssClass,s.clipping?this._plotrectId:null);var ot=u.visibility,nt=u.axisX,y=u.axisY;if(nt||(nt=this.axisX),y||(y=this.axisY),ot==0||ot==1)if(p=v[y._uniqueId],p){if(u.rendering.hasHandlers)u.onRendering(i);else s.plotSeries(i,nt,y,u,this,p.index,p.count);p.index++}else if(u.rendering.hasHandlers)u.onRendering(i);else s.plotSeries(i,nt,y,u,this,s.seriesIndex,s.seriesCount),s.seriesIndex++;i.endGroup()}i.endGroup();this.dataLabel.content&&this.dataLabel.position!=0&&this._renderLabels(i);o?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(l.x,l.y,o.width,o.height),i.textFill=t.FlexChart._FG,this.legend._render(i,l),i.textFill=null,i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._highlightCurrent();this.onRendered(new t.RenderEventArgs(i))}i.endRender()},f.prototype._renderLabels=function(i){var y=this.dataLabel,d=y.position,p=this.series,g=p.length,nt=y.border,o,w,s,b,h,c,v,a,u;i.stroke="null";i.fill="transparent";i.strokeWidth=1;var f=2,e="wj-data-label";for(o=0;o<g;o++)if(w=p[o],s=this._hitTester._map[o],s)for(b=s.length,h=0;h<b;h++)if(c=n.asType(s[h].tag,t._DataPoint,!0),c){v=new t.HitTestInfo(this,r);v._series=w;v._pointIndex=c.pointIndex;var l=this._getLabelContent(v,y.content),r=this.dataToPoint(new n.Point(c.dataX,c.dataY)),k=s[h];if(k instanceof t._RectArea&&(a=k,this._isRotated()?r.y=a.rect.top+.5*a.rect.height:r.x=a.rect.left+.5*a.rect.width),!this._plotRect.contains(r))continue;switch(d){case 2:r.y-=f;u=t.FlexChart._renderText(i,l,r,1,2,e);break;case 4:r.y+=f;u=t.FlexChart._renderText(i,l,r,1,0,e);break;case 1:r.x-=f;u=t.FlexChart._renderText(i,l,r,2,1,e);break;case 3:r.x+=f;u=t.FlexChart._renderText(i,l,r,0,1,e);break;case 5:u=t.FlexChart._renderText(i,l,r,1,1,e)}nt&&u&&i.drawRect(u.left-f,u.top-f,u.width+2*f,u.height+2*f,"wj-data-label-border")}},f.prototype._getAxes=function(){for(var u,t,i,n=[this.axisX,this.axisY],f=this.series.length,r=0;r<f;r++)u=this.series[r],t=u.axisX,t&&n.indexOf(t)===-1&&n.push(t),i=u.axisY,i&&n.indexOf(i)===-1&&n.push(i);return n},f.prototype._clearPlotters=function(){for(var t=this._plotters.length,n=0;n<t;n++)this._plotters[n].clear()},f.prototype._initPlotter=function(n){n.chart=this;n.dataInfo=this._dataInfo;n.hitTester=this._hitTester;this._plotters.push(n)},Object.defineProperty(f.prototype,"_barPlotter",{get:function(){return this.__barPlotter===null&&(this.__barPlotter=new t._BarPlotter,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_linePlotter",{get:function(){return this.__linePlotter===null&&(this.__linePlotter=new t._LinePlotter,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_areaPlotter",{get:function(){return this.__areaPlotter===null&&(this.__areaPlotter=new t._AreaPlotter,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_bubblePlotter",{get:function(){return this.__bubblePlotter===null&&(this.__bubblePlotter=new t._BubblePlotter,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_financePlotter",{get:function(){return this.__financePlotter===null&&(this.__financePlotter=new t._FinancePlotter,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),f.prototype._getPlotter=function(n){var i=this._getChartType(),u=!1,r,t;n&&(r=n._getChartType(),r!==undefined&&r!=i&&(i=r,u=!0));switch(i){case 0:t=this._barPlotter;break;case 1:this._barPlotter.rotated=!this._rotated;t=this._barPlotter;break;case 3:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 2:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 4:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 5:this._areaPlotter.isSpline=!1;t=this._areaPlotter;break;case 6:t=this._bubblePlotter;break;case 7:this._financePlotter.isCandle=!0;t=this._financePlotter;break;case 8:this._financePlotter.isCandle=!1;t=this._financePlotter;break;case 9:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;t=this._linePlotter;break;case 10:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;t=this._linePlotter;break;case 11:this._areaPlotter.isSpline=!0;t=this._areaPlotter;break;default:throw"Invalid chart type.";}return t.rotated=this._rotated,i==1&&(t.rotated=!t.rotated),u&&(t.rotated=this._isRotated()),t},f.prototype._layout=function(t,i,r){for(var f,tt,p,u,o,w,g,it,nt,s=t.width,h=t.height,ut=new n.Size(s,.75*h),ft=new n.Size(h,.75*s),c=0,l=0,b=s,k=h,y=0,e=0,a=s,v=h,rt=this._getAxes(),d=0;d<rt.length;d++)u=rt[d],o=u.origin,u.axisType==0?(f=u._getHeight(r),f>ut.height&&(f=ut.height),u._desiredSize=new n.Size(ut.width,f),tt=u._hasOrigin=n.isNumber(o)&&o>this.axisY.actualMin&&o<this.axisY.actualMax,u.position==4?(c=Math.max(c,u._annoSize.width*.5),b=Math.min(b,s-u._annoSize.width*.5),tt?(g=this._convertY(o,e,v),v=v-Math.max(0,g+f-v)):v=v-f):u.position==2&&(c=Math.max(c,u._annoSize.width*.5),b=Math.min(b,s-u._annoSize.width*.5),tt?(g=this._convertY(o,e,v),e=e+Math.max(0,e-(g-f))):e=e+f)):u.axisType==1&&(f=u._getHeight(r),f>ft.height&&(f=ft.height),u._desiredSize=new n.Size(ft.width,f),tt=u._hasOrigin=n.isNumber(o)&&o>this.axisX.actualMin&&o<this.axisX.actualMax,u.position==1?(l=Math.max(l,u._annoSize.width*.5),k=Math.min(k,h-u._annoSize.width*.5),tt?(nt=this._convertX(o,y,a),y+=Math.max(0,y-(nt-f))):y+=f):u.position==3&&(l=Math.max(l,u._annoSize.width*.5),k=Math.min(k,h-u._annoSize.width*.5),tt?(nt=this._convertX(o,y,a),a=a-Math.max(0,nt+f-a)):a=a-f));for(p=this._parseMargin(this.plotMargin),c=isNaN(p.left)?y=Math.max(c,y)+t.left:y=p.left,b=isNaN(p.right)?a=Math.min(b,a)+t.left:a=i.width-p.right,l=isNaN(p.top)?e=Math.max(l,e)+t.top:e=p.top,k=isNaN(p.bottom)?v=Math.min(k,v)+t.top:v=i.height-p.bottom,s=Math.max(1,b-c),h=Math.max(1,k-l),this._plotRect=new n.Rect(c,l,s,h),r.stroke=null,d=0;d<rt.length;d++)u=rt[d],o=u.origin,u.axisType==0?(u._hasOrigin?(g=this._convertY(o,this._plotRect.top,this._plotRect.bottom),u.position==4?(w=new n.Rect(c,g,s,u._desiredSize.height),v+=Math.max(0,w.bottom-this._plotRect.bottom)):u.position==2&&(w=new n.Rect(c,g-u._desiredSize.height,s,u._desiredSize.height),e-=Math.max(0,this._plotRect.top-w.top))):u.position==4?(w=new n.Rect(c,v,s,u._desiredSize.height),v+=u._desiredSize.height):u.position==2?(w=new n.Rect(c,e-u._desiredSize.height,s,u._desiredSize.height),e-=u._desiredSize.height):w=new n.Rect(c,e,s,1),u._layout(w,this._plotRect)):u.axisType==1&&(u._hasOrigin?(nt=this._convertX(o,this._plotRect.left,this._plotRect.right),u.position==1?(it=new n.Rect(nt-u._desiredSize.height,l,h,u._desiredSize.height),y-=u._desiredSize.height):u.position==3&&(it=new n.Rect(nt,l,h,u._desiredSize.height),a+=u._desiredSize.height)):u.position==1?(it=new n.Rect(y-u._desiredSize.height,l,h,u._desiredSize.height),y-=u._desiredSize.height):u.position==3?(it=new n.Rect(a,l,h,u._desiredSize.height),a+=u._desiredSize.height):it=new n.Rect(y,l,h,1),u._layout(it,this._plotRect))},f.prototype._convertX=function(n,t,i){var r=this.axisX;return r.reversed?i-(i-t)*(n-r.actualMin)/(r.actualMax-r.actualMin):t+(i-t)*(n-r.actualMin)/(r.actualMax-r.actualMin)},f.prototype._convertY=function(n,t,i){var r=this.axisY;return r.reversed?t+(i-t)*(n-r.actualMin)/(r.actualMax-r.actualMin):i-(i-t)*(n-r.actualMin)/(r.actualMax-r.actualMin)},f.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},f.prototype._select=function(n,t){if(this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=n,this._selectionIndex=t,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==2&&n){var i=n.collectionView;i||(i=this._cv);i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(t),this._notifyCurrentChanged=!0)}this.onSelectionChanged()},f.prototype._highlightCurrent=function(){var t,i,n;this.selectionMode!=0&&(t=this._selection,i=-1,t&&(n=t.collectionView,n||(n=this._cv),n&&(i=n.currentPosition),this._highlight(t,!0,i)))},f.prototype._highlight=function(i,r,u){var s,f,o,e;i=n.asType(i,t.SeriesBase,!0);this.selectionMode==1?(s=this.series.indexOf(i),f=i.hostElement,r?f.parentNode.appendChild(f):f.parentNode.insertBefore(f,f.parentNode.childNodes.item(s)),e=this._find(f,["rect","ellipse","polyline","polygon","line"]),this._highlightItems(e,t.FlexChart._CSS_SELECTION,r),i.legendElement&&this._highlightItems(this._find(i.legendElement,["rect","ellipse","line"]),t.FlexChart._CSS_SELECTION,r)):this.selectionMode==2&&(s=this.series.indexOf(i),f=i.hostElement,r?(f.parentNode.appendChild(f),o=i.getPlotElement(u),o&&(o.nodeName!="g"&&this._highlightItems([o],t.FlexChart._CSS_SELECTION,r),e=this._find(o,["line","rect","ellipse"]),this._highlightItems(e,t.FlexChart._CSS_SELECTION,r))):(f.parentNode.insertBefore(f,f.parentNode.childNodes.item(s)),e=this._find(f,["rect","ellipse","line"]),this._highlightItems(e,t.FlexChart._CSS_SELECTION,r)))},f.prototype._updateAuxAxes=function(n,t){for(var e,s,h,u,f,r,i,o=2;o<n.length;o++){for(e=n[o],e._chart=this,s=[],r=0;r<this.series.length;r++)h=this.series[r],(h.axisX==e||h.axisY==e)&&s.push(h);for(r=0;r<s.length;r++)i=s[r]._getDataRect(),i&&(e.axisType==0&&!t||e.axisType==1&&t?((u===undefined||i.left<u)&&(u=i.left),(f===undefined||i.right>f)&&(f=i.right)):((u===undefined||i.top<u)&&(u=i.top),(f===undefined||i.bottom>f)&&(f=i.bottom)));n[o]._updateActualLimits(2,u,f)}},f._contains=function(n,t){return n&&t?t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom:!1},f._intersects=function(n,t){return n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top?!1:!0},f._toOADate=function(n){return(n.getTime()-t.FlexChart._epoch)/t.FlexChart._msPerDay},f._fromOADate=function(n){var i=n-Math.floor(n);return n<0&&i&&(n=Math.floor(n)-i),new Date(n*t.FlexChart._msPerDay+t.FlexChart._epoch)},f._renderText=function(t,i,r,u,f,e,o,s,h){var c=t.measureString(i,e,o,s),l=r.x,a=r.y,v;switch(u){case 1:l-=.5*c.width;break;case 2:l-=c.width}switch(f){case 1:a+=.5*c.height;break;case 0:a+=c.height}return v=new n.Rect(l,a-c.height,c.width,c.height),h?h(v)?(t.drawString(i,new n.Point(l,a),e,s),v):null:(t.drawString(i,new n.Point(l,a),e,s),v)},f._renderRotatedText=function(t,i,r,u,f,e,o,s,h){var c=t.measureString(i,s,h),l=r.x,a=r.y;switch(u){case 1:l-=.5*c.width;break;case 2:l-=c.width}switch(f){case 1:a+=.5*c.height;break;case 0:a+=c.height}t.drawStringRotated(i,new n.Point(l,a),e,o,s,h)},f._CSS_AXIS_X="wj-axis-x",f._CSS_AXIS_Y="wj-axis-y",f._CSS_LINE="wj-line",f._CSS_GRIDLINE="wj-gridline",f._CSS_TICK="wj-tick",f._CSS_GRIDLINE_MINOR="wj-gridline-minor",f._CSS_TICK_MINOR="wj-tick-minor",f._CSS_LABEL="wj-label",f._CSS_LEGEND="wj-legend",f._CSS_HEADER="wj-header",f._CSS_FOOTER="wj-footer",f._CSS_TITLE="wj-title",f._CSS_SELECTION="wj-state-selected",f._CSS_PLOT_AREA="wj-plot-area",f._FG="#666",f._epoch=new Date(1899,11,30).getTime(),f._msPerDay=864e5,f}(t.FlexChartBase);t.FlexChartCore=u;i=function(){function t(){this.stackAbs={};this._xvals=null}return t.prototype.analyse=function(i,r,u,f,e,o){var rt,a,v,y,w,b,l,s,h,p,nt,tt,it;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;this.minXp=NaN;this.minYp=NaN;this.dx=0;var k={},d={},g={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=f,f!=null)for(rt=f.length,a=0;a<rt;a++)h=f[a],(isNaN(this.minX)||this.minX>h)&&(this.minX=h),(isNaN(this.maxX)||this.maxX<h)&&(this.maxX=h),h>0&&(isNaN(this.minXp)||this.minXp>h)&&(this.minXp=h),a>0&&(w=Math.abs(h-f[a-1]),!isNaN(w)&&(w<this.dx||this.dx==0)&&(this.dx=w));for(a=0;a<i.length;a++){var c=i[a],ft=c.chartType!==undefined,ut=c.visibility;if(ut!=3&&ut!=2){if(v=c.getDataRect(),v){(isNaN(this.minX)||this.minX>v.left)&&(this.minX=v.left);(isNaN(this.maxX)||this.maxX<v.right)&&(this.maxX=v.right);(isNaN(this.minY)||this.minY>v.top)&&(this.minY=v.top);(isNaN(this.maxY)||this.maxY<v.bottom)&&(this.maxY=v.bottom);continue}if(y=null,r?c._isCustomAxisY()||(y=c.getValues(1)):c._isCustomAxisX()||(y=c.getValues(1)),y)for(this.dataTypeX||(this.dataTypeX=c.getDataType(1)),l=0;l<y.length;l++)s=y[l],t.isValid(s)&&((isNaN(this.minX)||this.minX>s)&&(this.minX=s),(isNaN(this.maxX)||this.maxX<s)&&(this.maxX=s),l>0&&(w=Math.abs(s-y[l-1]),!isNaN(w)&&(w<this.dx||this.dx==0)&&(this.dx=w)));if(b=null,r?c._isCustomAxisX()||(b=c.getValues(0)):c._isCustomAxisY()||(b=c.getValues(0)),b)for(this.dataTypeY||(this.dataTypeY=c.getDataType(0)),isNaN(this.minX)&&(this.minX=0),isNaN(this.maxX)?this.maxX=b.length-1:y||(this.maxX=Math.max(this.maxX,b.length-1)),l=0;l<b.length;l++)s=b[l],h=y?n.asNumber(y[l],!0):f?n.asNumber(f[l],!0):l,t.isValid(s)&&((isNaN(this.minY)||this.minY>s)&&(this.minY=s),(isNaN(this.maxY)||this.maxY<s)&&(this.maxY=s),ft||(s>0?(isNaN(k[h])?k[h]=s:k[h]+=s,(isNaN(this.minYp)||this.minYp>s)&&(this.minYp=s)):isNaN(d[h])?d[h]=s:d[h]+=s,isNaN(g[h])?g[h]=Math.abs(s):g[h]+=Math.abs(s)))}}if(u==1){for(p in k)k[p]>this.maxY&&(this.maxY=k[p]);for(p in d)d[p]<this.minY&&(this.minY=d[p])}else if(u==2){this.minY=0;this.maxY=1;for(p in g)nt=g[p],isFinite(nt)&&nt!=0&&(tt=k[p],it=d[p],isFinite(tt)&&(tt=Math.min(tt/nt,this.maxY)),isFinite(it)&&(it=Math.max(it/nt,this.minY)))}this.stackAbs=g;e&&(r?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp);o&&(r?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinXp=function(){return this.minXp},t.prototype.getMinYp=function(){return this.minYp},t.prototype.getDeltaX=function(){return this.dx},t.prototype.getDataTypeX=function(){return this.dataTypeX},t.prototype.getDataTypeY=function(){return this.dataTypeY},t.prototype.getStackedAbsSum=function(n){var t=this.stackAbs[n];return isFinite(t)?t:0},t.prototype.getXVals=function(){return this._xvals},t.isValid=function(n){return isFinite(n)},t}();t._DataInfo=i;r=function(t){function i(){t.call(this);this._content="<b>{seriesName}<\/b><br/>{x} {y}";this._threshold=15}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=n.asNumber(t))},enumerable:!0,configurable:!0}),i}(n.Tooltip);t.ChartTooltip=r})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";(function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Scatter=2]="Scatter";n[n.Line=3]="Line";n[n.LineSymbols=4]="LineSymbols";n[n.Area=5]="Area";n[n.Bubble=6]="Bubble";n[n.Candlestick=7]="Candlestick";n[n.HighLowOpenClose=8]="HighLowOpenClose";n[n.Spline=9]="Spline";n[n.SplineSymbols=10]="SplineSymbols";n[n.SplineArea=11]="SplineArea"})(t.ChartType||(t.ChartType={}));var i=t.ChartType,r=function(r){function u(n,t){r.call(this,n,t);this._chartType=0}return __extends(u,r),u.prototype._getChartType=function(){return this._chartType},Object.defineProperty(u.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stacking",{get:function(){return this._stacking},set:function(i){i!=this._stacking&&(this._stacking=n.asEnum(i,t.Stacking),this.invalidate())},enumerable:!0,configurable:!0}),u}(t.FlexChartCore);t.FlexChart=r})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var e,c,o,f,s,h,i,r,u;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom"})(t.Position||(t.Position={}));e=t.Position,function(n){n[n.X=0]="X";n[n.Y=1]="Y"}(t.AxisType||(t.AxisType={}));c=t.AxisType,function(n){n[n.Auto=0]="Auto";n[n.Show=1]="Show"}(t.OverlappingLabels||(t.OverlappingLabels={}));o=t.OverlappingLabels,function(n){n[n.None=0]="None";n[n.Outside=1]="Outside";n[n.Inside=2]="Inside";n[n.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}));f=t.TickMark;s=function(){function i(t){this._GRIDLINE_WIDTH=.25;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._majorGrid=!1;this._minorGrid=!1;this._labels=!0;this._axisLine=!0;this._isTimeAxis=!1;this.rangeChanged=new n.Event;this.__uniqueId=i._id++;this._position=t;t==4||t==2?this._axisType=0:(this._axisType=1,this._axisLine=!1);this._minorTickMarks=0;this._overlap=0}return Object.defineProperty(i.prototype,"actualMin",{get:function(){return this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMax",{get:function(){return this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){t!=this._position&&(this._position=n.asEnum(t,e,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){t!=this._majorTickMarks&&(this._majorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){t!=this._minorTickMarks&&(this._minorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){t!=this._overlap&&(this._overlap=n.asEnum(t,o,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._items!=t&&(this._ifmt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.onRangeChanged=function(){this.rangeChanged.raise(this)},i.prototype._getHeight=function(i){var l=t.FlexChart._CSS_LABEL,b=t.FlexChart._CSS_TITLE,y=this._actualMax-this._actualMin,a=this._nicePrecision(y),v,o,h,e,r,f,w,s,u;if((a<0||a>15)&&(a=0),v=.1*y,o=this._lbls,this.labels){if(o!=null&&o.length>0)for(this._annoSize=new n.Size,h=0;h<o.length;h++)r=i.measureString(o[h],l),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);else e=this._formatValue(this._actualMin-v),r=i.measureString(e,l),this._annoSize=r,e=this._formatValue(this._actualMax+v),r=i.measureString(e,l),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);if(this.labelAngle){var c=this.labelAngle*Math.PI/180,p=this._annoSize.width,f=this._annoSize.height;this._annoSize.width=p*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c));this._annoSize.height=p*Math.abs(Math.sin(c))+f*Math.abs(Math.cos(c))}}else this._annoSize=new n.Size;return f=2,f+=this._axisType==0?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2,w=this._TICK_HEIGHT,s=this._TICK_OVERLAP,u==1?s=1:u==2?s=-1:u==3&&(s=0),u=this.majorTickMarks,(u===undefined||u===null)&&(u=1),u!=0&&(f+=.5*(1+s)*w),this._title&&(e=this._title,this._szTitle=i.measureString(e,b),f+=this._szTitle.height),i.fontSize=null,f},i.prototype._updateActualLimits=function(t,i,r,u,f){var h,c,l,e,a,p,w,o,s,v,y;if(typeof u=="undefined"&&(u=null),typeof f=="undefined"&&(f=null),h=this._actualMin,c=this._actualMax,this._isTimeAxis=t==4,l=this._chart._getChartType(),u&&u.length>0&&!this._isTimeAxis&&l!=0&&l!=1&&(i-=.5,r+=.5),this._actualMin=this._min!=null?this._min:i,this._actualMax=this._max!=null?this._max:r,this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5),this.logBase>0&&(e=this.logBase,a=Math.log(e),this.max||(p=Math.ceil(Math.log(this._actualMax)/a),this._actualMax=Math.pow(e,p)),this.min||(w=Math.floor(Math.log(this._actualMin)/a),this._actualMin=Math.pow(e,w)),this._actualMin<=0&&(this._actualMin=1),this._actualMax<this._actualMin&&(this._actualMax=this._actualMin+1)),(h==this._actualMin||isNaN(h)&&isNaN(this._actualMin))&&(c==this._actualMax||isNaN(c)&&isNaN(this._actualMax))||this.onRangeChanged(),this._items){this._values=[];this._lbls=[];var d=this._items.length,b="value",k="text";for(this.binding&&(o=this.binding.split(","),o.length==2&&(b=o[0],k=o[1])),s=0;s<d;s++)v=this._items[s],y=v[b],n.isNumber(y)&&(this._values.push(y),this._lbls.push(v[k]))}else this._lbls=u,this._values=f},i.prototype._layout=function(t,i){var r=this.axisType==1,u=this._position!=2&&this._position!=3;this._plotrect=i;this._axrect=r?new n.Rect(t.left,t.top,t.height,t.width):t},i.prototype._render=function(i){var w,it,g,lt,at,v,c,vt,y,e,f,st,ht,yt,h,u,tt;if(this.position!=0){var o=t.FlexChart._CSS_LABEL,ut=t.FlexChart._CSS_TITLE,ft=t.FlexChart._CSS_LINE,pt=t.FlexChart._CSS_GRIDLINE,p=t.FlexChart._CSS_TICK,r=0;this.labelAngle&&(r=this.labelAngle,r>90?r=90:r<-90&&(r=-90));var et=this.axisType==1,k=this._position!=2&&this._position!=3,ot=t.FlexChart._FG,ct=this._actualMax-this._actualMin;if(!isNaN(ct)){w=this._calcMajorUnit();w==0&&(w=this._niceTickNumber(ct)*.1);var d=Math.floor(ct/w)+1,a=[],b=[];if(this._rects=[],it=Math.floor(this._actualMin/w)*w,it<this._actualMin&&(it+=w),g=!1,this._lbls&&this._lbls.length>0)if(b=this._lbls,this._values.length==0)for(g=!0,h=0;h<b.length;h++)a.push(h);else a=this._values;else this._isTimeAxis?this._createTimeLabels(it,d,a,b):this.logBase?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,a,b,!0):this._createLabels(it,d,w,a,b);d=Math.min(a.length,b.length);i.textFill=ot;var wt=this._TICK_HEIGHT,bt=this._TICK_WIDTH,rt=this._TICK_OVERLAP,kt=ot,l=this.majorTickMarks;for((l===undefined||l===null)&&(l=1),lt=this._GRIDLINE_WIDTH,at=ot,l==1?rt=1:l==2?rt=-1:l==3&&(rt=0),v=.5*(rt-1)*wt,c=.5*(1+rt)*wt,h=0;h<d;h++){var u=a[h],s=b[h],nt=this.labels;nt&&g&&this.majorUnit&&h%this.majorUnit!=0&&(nt=!1);u>=this._actualMin&&u<=this._actualMax&&(vt=u!=this._actualMin&&this.majorGrid,et?(y=this.convert(u),vt&&(i.stroke=at,i.strokeWidth=lt,i.drawLine(this._plotrect.left,y,this._plotrect.right,y,pt)),i.stroke=kt,i.strokeWidth=bt,k?(l!=0&&i.drawLine(this._axrect.right-v,y,this._axrect.right-c,y,p),nt&&(f=new n.Point(this._axrect.right-c-this._TICK_LABEL_DISTANCE,y),r>0?r==90?t.FlexChart._renderRotatedText(i,s,f,1,0,f,r,o):t.FlexChart._renderRotatedText(i,s,f,2,1,f,r,o):r<0?r==-90?t.FlexChart._renderRotatedText(i,s,f,1,2,f,r,o):t.FlexChart._renderRotatedText(i,s,f,2,1,f,r,o):this._renderLabel(i,u,s,f,2,1,o))):(l!=0&&i.drawLine(this._axrect.left+v,y,this._axrect.left+c,y,p),nt&&(f=new n.Point(this._axrect.left+c+this._TICK_LABEL_DISTANCE,y),r>0?r==90?t.FlexChart._renderRotatedText(i,s,f,1,2,f,r,o):t.FlexChart._renderRotatedText(i,s,f,0,1,f,r,o):r<0?r==-90?t.FlexChart._renderRotatedText(i,s,f,1,0,f,r,o):t.FlexChart._renderRotatedText(i,s,f,0,1,f,r,o):this._renderLabel(i,u,s,f,0,1,o)))):(e=this.convert(u),vt&&(i.stroke=at,i.strokeWidth=lt,i.drawLine(e,this._plotrect.top,e,this._plotrect.bottom,pt)),i.stroke=kt,i.strokeWidth=bt,k?(nt&&(f=new n.Point(e,this._axrect.top+c),r!=0?(st=i.measureString(s,o),r!=90&&r!=-90&&(f.y+=.5*st.height*Math.abs(Math.sin(r*Math.PI/180))),r>0?t.FlexChart._renderRotatedText(i,s,f,0,1,f,r,o):r<0&&t.FlexChart._renderRotatedText(i,s,f,2,1,f,r,o)):this._renderLabel(i,u,s,f,1,0,o)),l!=0&&(g?(u=u-.5,u>=this._actualMin&&u<=this._actualMax&&(e=this.convert(u),i.drawLine(e,this._axrect.top+v,e,this._axrect.top+c,p)),h==d-1&&(u=u+1,u>=this._actualMin&&u<=this._actualMax&&(e=this.convert(u),i.drawLine(e,this._axrect.top+v,e,this._axrect.top+c,p)))):(e=this.convert(u),i.drawLine(e,this._axrect.top+v,e,this._axrect.top+c,p)))):(nt&&(f=new n.Point(e,this._axrect.bottom-c),r!=0?(st=i.measureString(s,o),r!=90&&r!=-90&&(f.y-=.5*st.height*Math.abs(Math.sin(r*Math.PI/180))),r>0?t.FlexChart._renderRotatedText(i,s,f,2,1,f,r,o):r<0&&t.FlexChart._renderRotatedText(i,s,f,0,1,f,r,o)):this._renderLabel(i,u,s,f,1,2,o)),l!=0&&(g?(u=u-.5,u>=this._actualMin&&u<=this._actualMax&&(e=this.convert(u),i.drawLine(e,this._axrect.bottom-v,e,this._axrect.bottom-c,p)),h==d-1&&(u=u+1,u>=this._actualMin&&u<=this._actualMax&&(e=this.convert(u),i.drawLine(e,this._axrect.bottom-v,e,this._axrect.bottom-c,p)))):(e=this.convert(u),i.drawLine(e,this._axrect.bottom-v,e,this._axrect.bottom-c,p))))))}}if(!g&&(this.minorGrid||this.minorTickMarks!=0))if(this.logBase){if(this.minorUnit>0){for(ht=[],this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,ht,null,!1),yt=[],h=0;h<ht.length;h++)u=ht[h],a.indexOf(u)==-1&&u>this._actualMin&&yt.push(u);this._renderMinors(i,yt,et,k)}}else this._createMinors(i,a,et,k);i.stroke=ot;i.fontSize=null;et?k?(this._title&&(tt=new n.Point(this._axrect.left+this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,tt,1,1,tt,-90,ut)),this.axisLine&&i.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,ft)):(this._title&&(tt=new n.Point(this._axrect.right-this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,tt,1,1,tt,90,ut)),this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,ft)):k?(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,ft),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,ut)):(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,ft),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,ut));i.stroke=null;i.fontSize=null;i.textFill=null;i.strokeWidth=null}},i.prototype._createMinors=function(t,i,r,u){var f;if(i&&i.length>1){var s=i[1]-i[0],e=n.isNumber(this.minorUnit)?this.minorUnit:s*.5,o=[];for(f=i[0];f>this._actualMin;f-=e)i.indexOf(f)==-1&&o.push(f);for(f=i[0]+e;f<this._actualMax;f+=e)i.indexOf(f)==-1&&o.push(f);this._renderMinors(t,o,r,u)}},i.prototype._renderMinors=function(n,i,r,u){var p=this._TICK_HEIGHT,w=this._TICK_WIDTH,o=this._TICK_OVERLAP,b=t.FlexChart._FG,v=this.minorTickMarks,y=!0,s,f,e;v==1?o=1:v==2?o=-1:v==3?o=0:y=!1;var h=.5*(o-1)*p,c=.5*(1+o)*p,tt=i?i.length:0,k=this.minorGrid,l=this._plotrect,d=this._GRIDLINE_WIDTH,g=t.FlexChart._FG,nt=t.FlexChart._CSS_GRIDLINE_MINOR,a=t.FlexChart._CSS_TICK_MINOR;for(s=0;s<tt;s++)r?(f=this.convert(i[s]),y&&(n.stroke=b,n.strokeWidth=w,u?n.drawLine(this._axrect.right-h,f,this._axrect.right-c,f,a):n.drawLine(this._axrect.left+h,f,this._axrect.left+c,f,a)),k&&(n.stroke=g,n.strokeWidth=d,n.drawLine(l.left,f,l.right,f,nt))):(e=this.convert(i[s]),y&&(n.stroke=b,n.strokeWidth=w,u?n.drawLine(e,this._axrect.top+h,e,this._axrect.top+c,a):n.drawLine(e,this._axrect.bottom-h,e,this._axrect.bottom-c,a)),k&&(n.stroke=g,n.strokeWidth=d,n.drawLine(e,l.top,e,l.bottom,nt)))},i.prototype._renderLabel=function(n,i,r,u,f,e,o){var h,s;if(this.itemFormatter&&(h=u.clone(),this.axisType==0?h.y=this.position==2?this._plotrect.top:this._plotrect.bottom:h.x=this.position==3?this._plotrect.right:this._plotrect.left,s={val:i,text:r,pos:h,cls:o},s=this.itemFormatter(n,s),s?(r=s.text,o=s.cls):r=null),r){var c=this._rects,a=this.overlappingLabels==0,l=t.FlexChart._renderText(n,r,u,f,e,o,null,null,function(n){var r,i;if(a)for(r=c.length,i=0;i<r;i++)if(t.FlexChart._intersects(c[i],n))return!1;return!0});l&&c.push(l)}},i.prototype.convert=function(n){var r;if(this._actualMax==this._actualMin)return 0;var u=this._axrect.left,t=this._axrect.width,f=this._axrect.top,i=this._axrect.height,e=this.logBase;return e?n<=0?NaN:(r=Math.log(this._actualMax/this._actualMin),this._reversed?this.axisType==1?f+Math.log(n/this._actualMin)/r*i:u+t-Math.log(n/this._actualMin)/r*t:this.axisType==1?f+i-Math.log(n/this.actualMin)/r*i:u+Math.log(n/this._actualMin)/r*t):this._reversed?this.axisType==1?f+(n-this._actualMin)/(this._actualMax-this._actualMin)*i:u+t-(n-this._actualMin)/(this._actualMax-this._actualMin)*t:this.axisType==1?f+i-(n-this._actualMin)/(this._actualMax-this._actualMin)*i:u+(n-this._actualMin)/(this._actualMax-this._actualMin)*t},i.prototype.convertBack=function(n){var o;if(this._actualMax==this._actualMin)return 0;var i=this._plotrect.left,t=this._plotrect.width,r=this._plotrect.top,u=this._plotrect.height,f=this._actualMax-this._actualMin,e=this.logBase;return e?(o=0,o=this._reversed?this.axisType==1?(n-r)/u:1-(n-i)/t:this.axisType==1?1-(n-r)/u:(n-i)/t,Math.pow(e,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*o)/Math.log(e))):this._reversed?this.axisType==1?this._actualMin+(n-r)*f/u:this._actualMin+(i+t-n)*f/t:this.axisType==1?this._actualMax-(n-r)*f/u:this._actualMin+(n-i)*f/t},Object.defineProperty(i.prototype,"axisType",{get:function(){return this._axisType},enumerable:!0,configurable:!0}),i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._cvCollectionChanged=function(){this._invalidate()},i.prototype._createLabels=function(n,t,i,r,u){for(var f=0;f<t;f++){var o=(n+i*f).toFixed(14),e=parseFloat(o),s=this._formatValue(e);r.push(e);u.push(s)}},i.prototype._createLogarithmicLabels=function(n,t,i,r,u,f){var o=this.logBase,p=Math.log(o),w=Math.floor(Math.log(n)/p),b=Math.ceil(Math.log(t)/p),s=o,v=!0,h,y,c,l,k,a,e;for(i>0&&(v=!1,s=i),s<o&&(s=o),h=(b-w+1)*o/s,y=1,f&&(c=this._getAnnoNumber(this.position==1||this.position==1),h>c?y=Math.floor(h/c+1):v&&(h<=.2*c?s=.2*o:h<=.1*c&&(s=.1*o))),l=w;l<=b;l+=y)if(v)for(k=Math.pow(o,l),a=0;a*s<o-1;a++)e=k*(1+a*s),e>=n&&e<=t&&(a==0?(r.unshift(e),u&&u.unshift(this._formatValue(e))):(r.push(e),u&&u.push(this._formatValue(e))));else e=Math.pow(s,l),e>=n&&e<=t&&(r.push(e),u&&u.push(this._formatValue(e)))},i.prototype._createTimeLabels=function(n,i,f,e){var p=this._actualMin,w=this._actualMax,c=t.FlexChart._fromOADate(this._actualMin),b=t.FlexChart._fromOADate(this._actualMax),nt=this._format,tt=this._getAnnoNumber(this._axisType==1),it=86400*(this._actualMax-this._actualMin)/tt,rt=new r(it*r.TicksPerSecond),l=isNaN(this._majorUnit)?u.NiceTimeSpan(rt,nt):r.fromDays(this._majorUnit),ut=l.Ticks,d=u.RoundTime(p,l.TotalDays,!1),k,s,ft,a,v,o,h;if(isFinite(d)&&(p=d),k=u.RoundTime(w,l.TotalDays,!0),isFinite(k)&&(w=k),s=t.FlexChart._fromOADate(p),ft=t.FlexChart._fromOADate(w),l.TotalDays>=365&&isNaN(this._majorUnit))for(s=new Date(c.getFullYear(),1,1),s<c&&s.setFullYear(s.getFullYear()+1),a=l.TotalDays/365,a=a-a%1,o=s;o<=b;o.setFullYear(o.getFullYear()+a))h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h));else if(l.TotalDays>=30&&isNaN(this._majorUnit))for(s=new Date(c.getFullYear(),c.getMonth(),1),s<c&&s.setMonth(s.getMonth()+1),v=l.TotalDays/30,v=v-v%1,o=s;o<=b;o.setMonth(o.getMonth()+v))h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h));else{var y=1e3*ut/r.TicksPerSecond,o=s,g=c.getTime()-o.getTime();for(g>y&&(o=new Date(o.getTime()+Math.floor(g/y)*y));o<=b;o=new Date(o.getTime()+y))o>=c&&(h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h)))}},i.prototype._formatValue=function(i){if(this._isTimeAxis)return n.Globalize.format(t.FlexChart._fromOADate(i),this._format);if(this._format)return n.Globalize.format(i,this._format);var r=i==Math.round(i)?"n0":"n";return n.Globalize.format(i,r)},i.prototype._calcMajorUnit=function(){var n=this._majorUnit;if(isNaN(n)){var i=this._actualMax-this._actualMin,r=this._nicePrecision(i),t=i/this._getAnnoNumber(this.axisType==1);n=this._niceNumber(2*t,-r,!0);n<t&&(n=this._niceNumber(t,-r+1,!1));n<t&&(n=this._niceTickNumber(t))}return n},i.prototype._getAnnoNumber=function(n){var i=n?this._annoSize.height:this._annoSize.width,r=n?this._axrect.height:this._axrect.width,t;return i>0&&r>0?(t=Math.floor(r/i),t<=0&&(t=1),t):10},i.prototype._nicePrecision=function(n){var i,t,r;return n<=0||isNaN(n)?0:(i=Math.log(n)/Math.LN10,t=i>=0?Math.floor(i):Math.ceil(i),r=n/Math.pow(10,t),r<3&&(t=-t+1,r=n/Math.pow(10,t),r<3&&(t=t+1)),t)},i.prototype._niceTickNumber=function(n){if(n==0)return n;n<0&&(n=-n);var u=Math.log(n)/Math.LN10,r=Math.floor(u),i=n/Math.pow(10,r),t=10;return i<=1?t=1:i<=2?t=2:i<=5&&(t=5),t*Math.pow(10,r)},i.prototype._niceNumber=function(n,t,i){if(n==0)return n;n<0&&(n=-n);var u=n/Math.pow(10,t),r=10;return i?u<1.5?r=1:u<3?r=2:u<4.5?r=4:u<7&&(r=5):u<=1?r=1:u<=2?r=2:u<=5&&(r=5),r*Math.pow(10,t)},Object.defineProperty(i.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),i._id=0,i}();t.Axis=s;h=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAxis=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t}(n.collections.ObservableArray);t.AxisCollection=h,function(n){n[n.tickf7=-7]="tickf7";n[n.tickf6=-6]="tickf6";n[n.tickf5=-5]="tickf5";n[n.tickf4=-4]="tickf4";n[n.tickf3=-3]="tickf3";n[n.tickf2=-2]="tickf2";n[n.tickf1=-1]="tickf1";n[n.second=1]="second";n[n.minute=n.second*60]="minute";n[n.hour=n.minute*60]="hour";n[n.day=n.hour*24]="day";n[n.week=n.day*7]="week";n[n.month=n.day*31]="month";n[n.year=n.day*365]="year";n[n.maxtime=Number.MAX_VALUE]="maxtime"}(i||(i={}));r=function(){function n(n){this.ticks=n}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/864e9},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(t*1e7)},n.fromDays=function(t){return new n(t*864e9)},n.TicksPerSecond=1e7,n}();u=function(){function u(i){n.isDate(i)?this.init(i):n.isNumber(i)&&this.init(t.FlexChart._fromOADate(i))}return u.prototype.init=function(n){this.year=n.getFullYear();this.month=n.getMonth();this.day=n.getDate();this.hour=n.getHours();this.minute=n.getMinutes();this.second=n.getSeconds()},u.prototype.getTimeAsDateTime=function(){var t=0,n=0,r=0,i;return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(t=-1-this.day,this.month=1):this.month>11&&(t=this.month-12,this.month=12),this.day<1?(n=-1-this.day,this.day=1):this.day>28&&this.month==2?(n=this.day-28,this.day=28):this.day>30&&(this.month==4||this.month==4||this.month==6||this.month==9||this.month==11)?(n=this.day-30,this.day=30):this.day>31&&(n=this.day-31,this.day=31),this.second>59&&(r=this.second-59,this.second=59),i=0,this.minute>59&&(i=this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},u.prototype.getTimeAsDouble=function(){return t.FlexChart._toOADate(this.getTimeAsDateTime())},u.tround=function(n,t,i){var r=n/t*t;return r=r-r%1,i&&r!=n&&(t=t-t%1,r+=t),r},u.RoundTime=function(n,t,r){var e=t*86400,f;if(e>0)return(f=new u(n),e<i.minute)?(f.second=this.tround(f.second,e,r),f.getTimeAsDouble()):(f.second=0,e<i.hour)?(e/=i.minute,f.minute=this.tround(f.minute,e,r),f.getTimeAsDouble()):(f.minute=0,e<i.day)?(e/=i.hour,f.hour=this.tround(f.hour,e,r),f.getTimeAsDouble()):(f.hour=0,e<i.month)?(e/=i.day,f.day=this.tround(f.day,e,r),f.getTimeAsDouble()):(f.day=1,e<i.year)?(e/=i.month,f.month!=1&&(f.month=this.tround(f.month,e,r)),f.getTimeAsDouble()):(f.month=1,e/=i.year,f.year=this.tround(f.year,e,r),f.getTimeAsDouble());var h=n,s=h-e,o=s/t*t;return r&&o!=s&&(o+=t),e+o},u.TimeSpanFromTmInc=function(n){var u=r.fromSeconds(1),t,f;if(n!=i.maxtime)if(n>-1)u=r.fromSeconds(n);else{for(t=n,f=1,t+=7;t>0;)f*=10,t--;u=new r(f)}return u},u.manualTimeInc=function(n){var t=1,r,f,u,e;if(n==null||n.length==0)return t;if(r=n.indexOf("f"),r>=0){if(f=-1,r>0&&n.substr(r-1,1)=="%")f=-1;else for(u=1;u<6;u++){if(r+u>=n.length)break;if(e=n.substr(r+u,1),e!="f")break;f--}t=f}else n.indexOf("s")>=0?t=1:n.indexOf("m")>=0?t=i.minute:n.indexOf("h")>=0||n.indexOf("H")?t=i.hour:n.indexOf("d")>=0?t=i.day:n.indexOf("M")>=0?t=i.month:n.indexOf("y")>=0&&(t=i.year);return t},u.getNiceInc=function(n,t,i){for(var u,r=0;r<n.length;r++)if(u=n[r]*i,t<=u)return u;return 0},u.NiceTimeSpan=function(n,t){var e=1,o,f,s;if(t!=null&&t.length>0&&(e=u.manualTimeInc(t)),o=0,f=0,e<1&&n.TotalSeconds<10){for(o=n.Ticks,f=u.TimeSpanFromTmInc(e).Ticks;o>10*f;)f*=10;return s=f,o>s&&(s*=2),o>s&&(s=5*f),o>s&&(s=10*f),new r(s)}if(o=Math.ceil(n.TotalSeconds),o==0)return u.TimeSpanFromTmInc(e);if(f=1,e<i.minute){if(o<i.minute&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.minute}if(e<i.hour){if(o<i.hour&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.hour}if(e<i.day){if(o<i.day&&(f=u.getNiceInc([1,3,6,12],o,e),f!=0))return r.fromSeconds(f);e=i.day}if(e<i.month){if(o<i.month&&(f=u.getNiceInc([1,2,7,14],o,e),f!=0))return r.fromSeconds(f);e=i.month}if(e<i.year){if(o<i.year&&(f=u.getNiceInc([1,2,3,4,6],o,e),f!=0))return r.fromSeconds(f);e=i.year}return f=100*i.year,o<f&&(f=u.getNiceInc([1,2,5,10,20,50],o,e),f==0&&(f=100*i.year)),r.fromSeconds(f)},u.NiceTimeUnit=function(n,t){var i=r.fromDays(n);return i=u.NiceTimeSpan(i,t),i.TotalDays},u.GetTimeDefaultFormat=function(n,t){var e;if(isNaN(n)||isNaN(t))return"";var u="s",o=r.fromDays(n-t),f=o.TotalSeconds;if(f>2*i.year)u="yyyy";else if(f>i.year)u="MMM yy";else if(f>3*i.month)u="MMM";else if(f>2*i.week)u="MMM d";else if(f>2*i.day)u="ddd d";else if(f>i.day)u="ddd H:mm";else if(f>i.hour)u="H:mm";else if(f>=1)u="H:mm:ss";else if(f>0)for(e=o.Ticks,u="s.";e<r.TicksPerSecond;)e*=10,u+="f";return u},u.secInYear=86400,u}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var r,i;(function(n){n[n.Visible=0]="Visible";n[n.Plot=1]="Plot";n[n.Legend=2]="Legend";n[n.Hidden=3]="Hidden"})(t.SeriesVisibility||(t.SeriesVisibility={}));r=t.SeriesVisibility,function(n){n[n.Dot=0]="Dot";n[n.Box=1]="Box"}(t.Marker||(t.Marker={}));var f=t.Marker,e=function(){function n(){}return n}(),u=function(t){function r(r){t.call(this);this._series=n.asType(r,i)}return __extends(r,t),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),r}(n.EventArgs);t.SeriesEventArgs=u;i=function(){function i(){this._symbolMarker=0;this._visibility=0;this.rendering=new n.Event}return Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(n){n!=this._symbolStyle&&(this._symbolStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._getSymbolSize=function(){return this.symbolSize!=null?this.symbolSize:this.chart.symbolSize},Object.defineProperty(i.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){t!=this._symbolMarker&&(this._symbolMarker=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visibility",{get:function(){return this._visibility},set:function(t){if(t!=this._visibility&&(this._visibility=n.asEnum(t,r),this._clearValues(),this._invalidate(),this._chart))this._chart.onSeriesVisibilityChanged(new u(this))},enumerable:!0,configurable:!0}),i.prototype.onRendering=function(n){this.rendering.raise(this,new t.RenderEventArgs(n))},i.prototype.hitTest=function(t,i){return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},i.prototype.getPlotElement=function(n){if(this.hostElement&&n<this._pointIndexes.length){var t=this._pointIndexes[n];if(t<this.hostElement.childNodes.length)return this.hostElement.childNodes[t]}return null},Object.defineProperty(i.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){if(this._axisX=n.asType(i,t.Axis,!0),this._axisX){var r=this._axisX._chart=this._chart;r&&r.axes.indexOf(this._axisX)==-1&&r.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){if(this._axisY=n.asType(i,t.Axis,!0),this._axisY){var r=this._axisY._chart=this._chart;r&&r.axes.indexOf(this._axisY)==-1&&r.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),i.prototype.getDataType=function(n){return n==0?this._valueDataType:n==1?this._xvalueDataType:null},i.prototype.getValues=function(n){var i,t;if(n==0)return this._values==null&&(this._valueDataType=null,this._cv!=null?(t=this._bindValues(this._cv.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(t=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType)),this._values;if(n==1){if(this._xvalues==null&&(this._xvalueDataType=null,i=this,this.bindingX!=null))if(i._cv!=null)t=this._bindValues(i._cv.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values;else{if(this._bindingX==null)return null;i._chart!=null&&i._chart.collectionView!=null&&(t=this._bindValues(i._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values)}return this._xvalues}return null},i.prototype.drawLegendItem=function(i,r){var c=this._chartType,o,s;c==null&&(c=this._chart._getChartType());i.strokeWidth=1;var u=t.Series._LEGEND_ITEM_MARGIN,l=null,a=null;l===null&&(l=this._chart._getColorLight(this._chart.series.indexOf(this)));a===null&&(a=this._chart._getColor(this._chart.series.indexOf(this)));i.fill=l;i.stroke=a;var f=r.top+.5*r.height,e=t.Series._LEGEND_ITEM_WIDTH,h=t.Series._LEGEND_ITEM_HEIGHT;switch(c){case 5:case 11:i.drawRect(r.left+u,f-.5*h,e,h,null,this.style);break;case 1:case 0:i.drawRect(r.left+u,f-.5*h,e,h,null,this.symbolStyle?this.symbolStyle:this.style);break;case 2:case 6:o=.3*e;s=.3*h;this.symbolMarker==1?i.drawRect(r.left+u+.5*e-o,f-s,2*o,2*s,null,this.symbolStyle):i.drawEllipse(r.left+.5*e+u,f,o,s,null,this.symbolStyle);break;case 3:case 9:i.drawLine(r.left+u,f,r.left+e+u,f,null,this.style);break;case 4:case 10:o=.3*e;s=.3*h;this.symbolMarker==1?i.drawRect(r.left+u+.5*e-o,f-s,2*o,2*s,null,this.symbolStyle):i.drawEllipse(r.left+.5*e+u,f,o,s,null,this.symbolStyle);i.drawLine(r.left+u,f,r.left+e+u,f,null,this.style);break;case 7:case 8:i.drawLine(r.left+u,f,r.left+e+u,f,null,this.symbolStyle?this.symbolStyle:this.style)}this._name&&t.FlexChart._renderText(i,this._name,new n.Point(r.left+h+2*u,f),0,1,t.FlexChart._CSS_LABEL)},i.prototype.measureLegendItem=function(i){var r=new n.Size,u;return r.width=t.Series._LEGEND_ITEM_WIDTH,r.height=t.Series._LEGEND_ITEM_HEIGHT,this._name&&(u=i.measureString(this._name,t.FlexChart._CSS_LABEL),r.width+=u.width,r.height<u.height&&(r.height=u.height)),r.width+=3*t.Series._LEGEND_ITEM_MARGIN,r.height+=2*t.Series._LEGEND_ITEM_MARGIN,r},i.prototype.getDataRect=function(){return null},i.prototype._getChartType=function(){return this._chartType},i.prototype._clearValues=function(){this._values=null;this._xvalues=null},i.prototype._getBinding=function(n){var i=null,t;return this.binding&&(t=this.binding.split(","),t&&t.length>n&&(i=t[n].trim())),i},i.prototype._getBindingValues=function(n){var t,i;return this._cv!=null?t=this._cv.items:this._chart!=null&&this._chart.collectionView!=null&&(t=this._chart.collectionView.items),i=this._bindValues(t,this._getBinding(n)),i.values},i.prototype._getItem=function(n){var i=null,t=null;return this.itemsSource!=null?t=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(t=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),t!=null&&(i=t[n]),i},i.prototype._getLength=function(){var n=null;return this.itemsSource!=null?n=this.itemsSource.length:this._chart.itemsSource!=null&&(n=this._chart.itemsSource.length),n},i.prototype._setPointIndex=function(n,t){this._pointIndexes[n]=t},i.prototype._getDataRect=function(){var s=this.getValues(0),h=this.getValues(1),e,t,u;if(s){var i=NaN,r=NaN,o=NaN,f=NaN,c=s.length;for(e=0;e<c;e++)t=s[e],isFinite(t)&&(isNaN(r)?r=f=t:t<r?r=t:t>f&&(f=t)),h&&(u=h[e],isFinite(u)&&(isNaN(i)?i=o=u:u<i?i=u:t>f&&(o=u)));if(h||(i=0,o=c-1),!isNaN(r))return new n.Rect(i,r,o-i,f-r)}return null},i.prototype._isCustomAxisX=function(){return this._axisX?this._chart?this._axisX!=this.chart.axisX:!0:!1},i.prototype._isCustomAxisY=function(){return this._axisY?this._chart?this._axisY!=this.chart.axisY:!0:!1},i.prototype._getAxisX=function(){var n=null;return this.axisX?n=this.axisX:this.chart&&(n=this.chart.axisX),n},i.prototype._getAxisY=function(){var n=null;return this.axisY?n=this.axisY:this.chart&&(n=this.chart.axisY),n},i.prototype._cvCollectionChanged=function(){this._clearValues();this._invalidate()},i.prototype._cvCurrentChanged=function(){this._invalidate()},i.prototype._bindValues=function(i,r,u){var s,h,l,f,o,c;if(typeof u=="undefined"&&(u=!1),i!=null)for(l=i.length,s=new Array(i.length),f=0;f<l;f++)o=i[f],r!=null&&(o=o[r]),n.isNumber(o)?(s[f]=o,h=2):n.isDate(o)?(s[f]=t.FlexChart._toOADate(o),h=4):u&&o&&(s[f]=f,h=2);return c=new e,c.values=s,c.dataType=h,c},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var i=this._values[t],r=this._xvalues?this._xvalues[t]:t;return new n.Point(r,i)}return null},i.prototype._getSymbolFill=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.fill),!t&&this.style&&(t=this.style.fill),!t&&this.chart&&(t=this.chart._getColorLight(n)),t},i.prototype._getSymbolStroke=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.stroke),!t&&this.style&&(t=this.style.stroke),!t&&this.chart&&(t=this.chart._getColor(n)),t},i._LEGEND_ITEM_WIDTH=10,i._LEGEND_ITEM_HEIGHT=10,i._LEGEND_ITEM_MARGIN=4,i._DEFAULT_SYM_SIZE=10,i}();t.SeriesBase=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.apply(this,arguments)}return __extends(r,i),Object.defineProperty(r.prototype,"chartType",{get:function(){return this._chartType},set:function(i){i!=this._chartType&&(this._chartType=n.asEnum(i,t.ChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),r}(t.SeriesBase);t.Series=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(){"use strict"})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(n){this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._element=n;this._create();this._element.appendChild(this._svg)}return i.prototype.beginRender=function(){while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);this._svg.appendChild(this._textGroup)},i.prototype.endRender=function(){this._textGroup.parentNode&&this._svg.removeChild(this._textGroup)},i.prototype.setViewportSize=function(n,t){this._svg.setAttribute("width",n.toString());this._svg.setAttribute("height",t.toString())},Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(n){this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._textFill=n},enumerable:!0,configurable:!0}),i.prototype.addClipRect=function(n,t){if(n&&t){var u=document.createElementNS(i.svgNS,"clipPath"),r=document.createElementNS(i.svgNS,"rect");r.setAttribute("x",(n.left-1).toFixed());r.setAttribute("y",(n.top-1).toFixed());r.setAttribute("width",(n.width+2).toFixed());r.setAttribute("height",(n.height+2).toFixed());u.appendChild(r);u.setAttribute("id",t);this._svg.appendChild(u)}},i.prototype.drawEllipse=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,"ellipse");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("fill",this._fill);o.setAttribute("cx",n.toFixed(1));o.setAttribute("cy",t.toFixed(1));o.setAttribute("rx",r.toFixed(1));o.setAttribute("ry",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},i.prototype.drawRect=function(n,t,r,u,f,e,o){var s=document.createElementNS(i.svgNS,"rect");s.setAttribute("fill",this._fill);s.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&s.setAttribute("stroke-width",this._strokeWidth.toString());s.setAttribute("x",n.toFixed(1));s.setAttribute("y",t.toFixed(1));s.setAttribute("width",r.toFixed(1));s.setAttribute("height",u.toFixed(1));o&&s.setAttribute("clip-path","url(#"+o+")");f&&s.setAttribute("class",f);this._applyStyle(s,e);this._appendChild(s)},i.prototype.drawLine=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,"line");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("x1",n.toFixed(1));o.setAttribute("x2",r.toFixed(1));o.setAttribute("y1",t.toFixed(1));o.setAttribute("y2",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},i.prototype.drawLines=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,"polyline"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill","none"),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+t[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},i.prototype.drawSplines=function(n,r,u,f,e){var o,h,s;if(n&&r){var y=new t._Spline(n,r),c=y.calculate(),l=c.xs,a=c.ys,v=Math.min(l.length,a.length);if(v>0){for(o=document.createElementNS(i.svgNS,"polyline"),o.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString()),o.setAttribute("fill","none"),h="",s=0;s<v;s++)h+=l[s].toFixed(1)+","+a[s].toFixed(1)+" ";o.setAttribute("points",h);u&&o.setAttribute("class",u);e&&o.setAttribute("clip-path","url(#"+e+")");this._applyStyle(o,f);this._appendChild(o)}}},i.prototype.drawPolygon=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,"polygon"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill",this._fill),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+t[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},i.prototype.drawPieSegment=function(t,r,u,f,e,o,s,h){var c,l,y,a,p,v;if(e>=Math.PI*2)return this.drawEllipse(t,r,u,u,o,s);c=document.createElementNS(i.svgNS,"path");c.setAttribute("fill",this._fill);c.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&c.setAttribute("stroke-width",this._strokeWidth.toString());l=new n.Point(t,r);l.x+=u*Math.cos(f);l.y+=u*Math.sin(f);y=f+e;a=new n.Point(t,r);a.x+=u*Math.cos(y);a.y+=u*Math.sin(y);p=" 0 0,1 ";Math.abs(e)>Math.PI&&(p=" 0 1,1 ");v="M "+t.toFixed(1)+","+r.toFixed(1);v+="L "+l.x.toFixed(1)+","+l.y.toFixed(1);v+=" A "+u.toFixed(1)+","+u.toFixed(1)+p;v+=a.x.toFixed(1)+","+a.y.toFixed(1)+" z";c.setAttribute("d",v);h&&c.setAttribute("clip-path","url(#"+h+")");o&&c.setAttribute("class",o);this._applyStyle(c,s);this._appendChild(c)},i.prototype.drawDonutSegment=function(t,r,u,f,e,o,s,h,c){var k=!1,l,y,p,w,v,b,d,g,a;o>=Math.PI*2&&(k=!0,o-=.001);l=document.createElementNS(i.svgNS,"path");l.setAttribute("fill",this._fill);l.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&l.setAttribute("stroke-width",this._strokeWidth.toString());y=new n.Point(t,r);y.x+=u*Math.cos(e);y.y+=u*Math.sin(e);p=e+o;w=new n.Point(t,r);w.x+=u*Math.cos(p);w.y+=u*Math.sin(p);v=new n.Point(t,r);v.x+=f*Math.cos(p);v.y+=f*Math.sin(p);b=new n.Point(t,r);b.x+=f*Math.cos(e);b.y+=f*Math.sin(e);d=" 0 0,1 ";g=" 0 0,0 ";Math.abs(o)>Math.PI&&(d=" 0 1,1 ",g=" 0 1,0 ");a="M "+y.x.toFixed(3)+","+y.y.toFixed(3);a+=" A "+u.toFixed(3)+","+u.toFixed(3)+d;a+=w.x.toFixed(3)+","+w.y.toFixed(3);a+=k?" M "+v.x.toFixed(3)+","+v.y.toFixed(3):" L "+v.x.toFixed(3)+","+v.y.toFixed(3);a+=" A "+f.toFixed(3)+","+f.toFixed(3)+g;a+=b.x.toFixed(3)+","+b.y.toFixed(3);k||(a+=" z");l.setAttribute("d",a);c&&l.setAttribute("clip-path","url(#"+c+")");s&&l.setAttribute("class",s);this._applyStyle(l,h);this._appendChild(l)},i.prototype.drawString=function(n,t,i,r){var u=this._createText(t,n),f;i&&u.setAttribute("class",i);this._applyStyle(u,r);this._appendChild(u);f=u.getBBox();u.setAttribute("y",(t.y-(f.y+f.height-t.y)).toFixed(1))},i.prototype.drawStringRotated=function(n,t,r,u,f,e){var o=this._createText(t,n),s,h;f&&o.setAttribute("class",f);this._applyStyle(o,e);s=document.createElementNS(i.svgNS,"g");s.setAttribute("transform","rotate("+u.toFixed(1)+","+r.x.toFixed(1)+","+r.y.toFixed(1)+")");s.appendChild(o);this._appendChild(s);h=o.getBBox();o.setAttribute("y",(t.y-(h.y+h.height-t.y)).toFixed(1))},i.prototype.measureString=function(t,i,r,u){var f=new n.Size(0,0),e,o;if(this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily),i&&this._text.setAttribute("class",i),r&&this._textGroup.setAttribute("class",r),this._applyStyle(this._text,u),this._setText(this._text,t),e=this._text.getBBox(),f.width=e.width,f.height=e.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),u)for(o in u)this._text.removeAttribute(this._deCase(o));return this._textGroup.removeAttribute("class"),this._text.textContent=null,f},i.prototype.startGroup=function(n,t,r){typeof r=="undefined"&&(r=!1);var u=document.createElementNS(i.svgNS,"g");return n&&u.setAttribute("class",n),t&&u.setAttribute("clip-path","url(#"+t+")"),this._appendChild(u),r&&u.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=u,u},i.prototype.endGroup=function(){if(this._group){var n=this._group.parentNode;this._group=n==this._svg?null:n}},i.prototype.drawImage=function(n,t,r,u,f){var e=document.createElementNS(i.svgNS,"image");e.setAttributeNS(i.xlinkNS,"href",n);e.setAttribute("x",t.toFixed(1));e.setAttribute("y",r.toFixed(1));e.setAttribute("width",u.toFixed(1));e.setAttribute("height",f.toFixed(1));this._appendChild(e)},i.prototype._appendChild=function(n){var t=this._group;t||(t=this._svg);t.appendChild(n)},i.prototype._create=function(){this._svg=document.createElementNS(i.svgNS,"svg");this._defs=document.createElementNS(i.svgNS,"defs");this._svg.appendChild(this._defs);this._text=this._createText(new n.Point(-1e3,-1e3),"");this._textGroup=document.createElementNS(i.svgNS,"g");this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)},i.prototype._setText=function(n,t){var i=t?t.toString():null;if(i&&i.indexOf("tspan")>=0)try{n.textContent=null;for(var u=new DOMParser,f='<svg xmlns="http://www.w3.org/2000/svg">'+i+"<\/svg>",e=u.parseFromString(f,"text/xml").documentElement,r=e.firstChild;r;)n.appendChild(n.ownerDocument.importNode(r,!0)),r=r.nextSibling}catch(o){throw new Error("Error parsing XML string.");}else n.textContent=i},i.prototype._createText=function(n,t){var r=document.createElementNS(i.svgNS,"text");return this._setText(r,t),r.setAttribute("fill",this._textFill),r.setAttribute("x",n.x.toFixed(1)),r.setAttribute("y",n.y.toFixed(1)),this._fontSize&&r.setAttribute("font-size",this._fontSize),this._fontFamily&&r.setAttribute("font-family",this._fontFamily),r},i.prototype._applyStyle=function(n,t){if(t)for(var i in t)n.setAttribute(this._deCase(i),t[i])},i.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})},i.svgNS="http://www.w3.org/2000/svg",i.xlinkNS="http://www.w3.org/1999/xlink",i}();t._SvgRenderEngine=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(t){this._position=3;this._areas=[];this._sz=new n.Size;this._chart=t}return Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(i){this._position!=i&&(this._position=n.asEnum(i,t.Position),this._chart.invalidate())},enumerable:!0,configurable:!0}),i.prototype._getDesiredSize=function(t){var i=this.position,r;if(i==0)return null;if(r=i==3||i==1,this._chart instanceof n.chart.FlexChartCore)this._sz=this._getDesiredSizeSeriesChart(t,r);else if(this._chart instanceof n.chart.FlexPie)this._sz=this._getDesiredSizePieChart(t,r);else return null;return this._sz},i.prototype._getDesiredSizeSeriesChart=function(t,i){for(var f,o,u,r=new n.Size,s=this._chart.series,h=s.length,e=0;e<h;e++)(f=n.tryCast(s[e],n.chart.SeriesBase),o=f.visibility,f.name&&o!=3&&o!=1)&&(u=f.measureLegendItem(t),i?(r.height+=u.height,r.width<u.width&&(r.width=u.width)):(r.width+=u.width,r.height<u.height&&(r.height=u.height)));return r},i.prototype._renderSeriesChart=function(t,i,r){for(var u,f,c=this._chart.series,l=c.length,o=0;o<l;o++)if(u=n.tryCast(c[o],n.chart.SeriesBase),u){if(f=u.visibility,!u.name||f==3||f==1){u._legendElement=null;continue}var e=u.measureLegendItem(t),s=new n.Rect(i.x,i.y,e.width,e.height),h=t.startGroup(u.cssClass);f==2?(h.setAttribute("opacity","0.5"),u._legendElement=h,u.drawLegendItem(t,s)):f==0?(u._legendElement=h,u.drawLegendItem(t,s)):u._legendElement=null;t.endGroup();this._areas.push(s);r?i.y+=e.height:i.x+=e.width}},i.prototype._getDesiredSizePieChart=function(t,i){for(var u,r=new n.Size,e=this._chart,o=e._labels,s=o.length,f=0;f<s;f++)u=e._measureLegendItem(t,o[f]),i?(r.height+=u.height,r.width<u.width&&(r.width=u.width)):(r.width+=u.width,r.height<u.height&&(r.height=u.height));return r},i.prototype._renderPieChart=function(t,i,r){for(var f,s,e=this._chart,o=e._labels,h=o.length,u=0;u<h;u++)f=e._measureLegendItem(t,o[u]),s=new n.Rect(i.x,i.y,f.width,f.height),e._drawLegendItem(t,s,u,o[u]),this._areas.push(s),r?i.y+=f.height:i.x+=f.width},i.prototype._render=function(t,i){this._areas=[];var r=this.position==3||this.position==1;if(t.fill="transparent",t.stroke=null,t.drawRect(i.x,i.y,this._sz.width,this._sz.height),this._chart instanceof n.chart.FlexChartCore)this._renderSeriesChart(t,i,r);else if(this._chart instanceof n.chart.FlexPie)this._renderPieChart(t,i,r);else return null},i.prototype._hitTest=function(n){for(var r=this._areas,i=0;i<r.length;i++)if(t.FlexChartCore._contains(r[i],n))return i;return null},i}();t.Legend=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(n){"use strict";(function(n){n[n.PlotArea=0]="PlotArea";n[n.AxisX=1]="AxisX";n[n.AxisY=2]="AxisY";n[n.ChartArea=3]="ChartArea";n[n.Legend=4]="Legend";n[n.Header=5]="Header";n[n.Footer=6]="Footer";n[n.Series=7]="Series";n[n.SeriesSymbol=8]="SeriesSymbol";n[n.None=9]="None"})(n.ChartElement||(n.ChartElement={}));var i=n.ChartElement,t=function(){function t(n,t){this._pointIndex=null;this._chartElement=9;this._chart=n;this._pt=t}return Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){if(this._item==null&&this.pointIndex!==null)if(this.series!=null)this._item=this.series._getItem(this.pointIndex);else if(this._chart instanceof n.FlexPie){var i=this._chart,t=null;t=i._cv!=null?i._cv.items:i.itemsSource;t&&this.pointIndex<t.length&&(this._item=t[this.pointIndex])}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x===undefined&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y===undefined&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){if(this._chart instanceof n.FlexPie){var t=this._chart;return t._values[this.pointIndex]}return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(this._chart instanceof n.FlexPie){var t=this._chart;return t._labels[this.pointIndex]}return this.series.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_xfmt",{get:function(){return this.__xfmt===undefined&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_yfmt",{get:function(){return this.__yfmt===undefined&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),t.prototype._getValue=function(t,i){var o,e,s;if(this._chart instanceof n.FlexPie)return o=this._chart,o._values[this.pointIndex];var r=null,u=this._chart,f=this.pointIndex;return this.series!==null&&f!==null&&(e=this.series.getValues(t),s=this.series.getDataType(t),e&&this.pointIndex<e.length?(r=e[this.pointIndex],s!=4||i||(r=n.FlexChart._fromOADate(r))):t==1&&(u._xlabels&&u._xlabels.length>0&&f<u._xlabels.length?r=u._xlabels[f]:u._xvals&&f<u._xvals.length&&(r=u._xvals[f],u._xDataType!=4||i||(r=n.FlexChart._fromOADate(r))))),r!==null&&i&&(t==0?r=u.axisY._formatValue(r):t==1&&(r=u.axisX._formatValue(r))),r},t}();n.HitTestInfo=t})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(n){"use strict";var t=function(){function n(){}return n.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],n.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],n.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],n.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],n.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],n.light=["#ddca9a","#778deb","#778deb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],n.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],n.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],n.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],n.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],n.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],n.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],n.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],n.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],n.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],n.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],n}();n.Palettes=t})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function t(t,i){var s,r;if(this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-1*.5,3*.5,-3*.5,1*.5],[2*.5,-5*.5,4*.5,-1*.5],[-1*.5,0,1*.5,0],[0,2*.5,0,0]],this._x=t,this._y=i,s=this._len=Math.min(t.length,i.length),s>3)for(r=0;r<s-1;r++){var u=r==0?new n.Point(t[r],i[r]):new n.Point(t[r-1],i[r-1]),f=new n.Point(t[r],i[r]),e=new n.Point(t[r+1],i[r+1]),o=r==s-2?new n.Point(t[r+1],i[r+1]):new n.Point(t[r+2],i[r+2]),h=new n.Point,c=new n.Point,l=new n.Point,a=new n.Point;h.x=u.x*this.m[0][0]+f.x*this.m[0][1]+e.x*this.m[0][2]+o.x*this.m[0][3];c.x=u.x*this.m[1][0]+f.x*this.m[1][1]+e.x*this.m[1][2]+o.x*this.m[1][3];l.x=u.x*this.m[2][0]+f.x*this.m[2][1]+e.x*this.m[2][2]+o.x*this.m[2][3];a.x=u.x*this.m[3][0]+f.x*this.m[3][1]+e.x*this.m[3][2]+o.x*this.m[3][3];h.y=u.y*this.m[0][0]+f.y*this.m[0][1]+e.y*this.m[0][2]+o.y*this.m[0][3];c.y=u.y*this.m[1][0]+f.y*this.m[1][1]+e.y*this.m[1][2]+o.y*this.m[1][3];l.y=u.y*this.m[2][0]+f.y*this.m[2][1]+e.y*this.m[2][2]+o.y*this.m[2][3];a.y=u.y*this.m[3][0]+f.y*this.m[3][1]+e.y*this.m[3][2]+o.y*this.m[3][3];this._a.push(h);this._b.push(c);this._c.push(l);this._d.push(a)}}return t.prototype.calculatePoint=function(n){var t=Math.floor(n);t<0&&(t=0);t>this._len-2&&(t=this._len-2);var i=n-t,r=((this._a[t].x*i+this._b[t].x)*i+this._c[t].x)*i+this._d[t].x,u=((this._a[t].y*i+this._b[t].y)*i+this._c[t].y)*i+this._d[t].y;return{x:r,y:u}},t.prototype.calculate=function(){var f,e,i,n;if(this._len<=3)return{xs:this._x,ys:this._y};var r=[],u=[],t=this.calculatePoint(0);for(r.push(t.x),u.push(t.y),f=this._len*this.k,e=3,i=f;;i+=f)if(n=this.calculatePoint(i),(Math.abs(t.x-n.x)>=e||Math.abs(t.y-n.y)>=e)&&(r.push(n.x),u.push(n.y),t=n),i>this._len-1)break;return{xs:r,ys:u}},t}();t._Spline=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var r,u,i,f,e;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Center=5]="Center"})(t.LabelPosition||(t.LabelPosition={}));r=t.LabelPosition,function(n){n[n.None=0]="None";n[n.Inside=1]="Inside";n[n.Center=2]="Center";n[n.Outside=3]="Outside"}(t.PieLabelPosition||(t.PieLabelPosition={}));u=t.PieLabelPosition;i=function(){function t(){}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}();t.DataLabelBase=i;f=function(t){function i(){t.apply(this,arguments);this._pos=2}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,r),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.DataLabel=f;e=function(t){function i(){t.apply(this,arguments);this._pos=0}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,u),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.PieDataLabel=e})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var e=function(){function n(){this._moveMarker=function(n){var t=n.currentTarget,r=this._markers,i;"markerIndex"in t.dataset&&(i=r[t.dataset.markerIndex],i.forEach(function(t){t._moveMarker(n)}))};this._markers=[];this._bindMoveMarker=this._moveMarker.bind(this)}return n.prototype.attach=function(n){var t=n.chart.hostElement,i=this._markers,r,u;"markerIndex"in t.dataset?i[t.dataset.markerIndex].push(n):(r=i.length,u=[n],i.push(u),t.dataset.markerIndex=r,this._bindMoveEvent(t))},n.prototype.detach=function(n){var r=n.chart.hostElement,u=this._markers,t,i;"markerIndex"in r.dataset&&(i=u[r.dataset.markerIndex],t=i.indexOf(n),t>-1&&i.splice(t,1),i.length===0&&(t=u.indexOf(i),t>-1&&(u[t]=undefined),this._unbindMoveEvent(r)))},n.prototype._unbindMoveEvent=function(n){var t=this._bindMoveMarker;n.removeEventListener("mousemove",t);"ontouchstart"in window&&n.removeEventListener("touchmove",t)},n.prototype._bindMoveEvent=function(n){var t=this._bindMoveMarker;n.addEventListener("mousemove",t);"ontouchstart"in window&&n.addEventListener("touchmove",t)},n}(),i=new e,r,u,o,f;(function(n){n[n.None=0]="None";n[n.Vertical=1]="Vertical";n[n.Horizontal=2]="Horizontal";n[n.Both=3]="Both"})(t.LineMarkerLines||(t.LineMarkerLines={}));r=t.LineMarkerLines,function(n){n[n.None=0]="None";n[n.Move=1]="Move";n[n.Drag=2]="Drag"}(t.LineMarkerInteraction||(t.LineMarkerInteraction={}));u=t.LineMarkerInteraction,function(n){n[n.Auto=2]="Auto";n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Bottom=4]="Bottom";n[n.Top=6]="Top"}(t.LineMarkerAlignment||(t.LineMarkerAlignment={}));o=t.LineMarkerAlignment;f=function(){function f(t,i){this._wrapperMousedown=null;this._wrapperMouseup=null;this.positionChanged=new n.Event;var r=this;r._chart=t;t.rendered.addHandler(r._initialize,r);r._resetDefaultValue();n.copy(this,i);r._initialize()}return Object.defineProperty(f.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){var i=this;t!==i._isVisible&&(i._isVisible=n.asBoolean(t),i._marker)&&i._toggleVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){var i=this;t!==i._seriesIndex&&(i._seriesIndex=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){var i=this;if(t!==i._horizontalPosition){if(i._horizontalPosition=n.asNumber(t,!0),i._horizontalPosition<0||i._horizontalPosition>1)throw"horizontalPosition's value should be in (0, 1).";i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"x",{get:function(){var n=this,t=n._targetPoint.x-n._plotRect.left,i=n._chart.axisX;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"y",{get:function(){var n=this,t=n._targetPoint.y-n._plotRect.top,i=n._chart.axisY;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=n.asFunction(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){var i=this;if(t!==i._verticalPosition){if(i._verticalPosition=n.asNumber(t,!0),i._verticalPosition<0||i._verticalPosition>1)throw"verticalPosition's value should be in (0, 1).";i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"alignment",{get:function(){return this._alignment},set:function(n){var t=this;n!==t._alignment&&(t._alignment=n,t._marker)&&t._updatePositionByAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"lines",{get:function(){return this._lines},set:function(t){var i=this;t!==i._lines&&(i._lines=n.asEnum(t,r),i._marker)&&i._resetLinesVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"interaction",{get:function(){return this._interaction},set:function(t){var i=this;t!==i._interaction&&(i._marker&&i._detach(),i._interaction=n.asEnum(t,u),i._marker&&i._attach(),i._toggleElesDraggableClass(i._interaction===2))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){var i=this;t!==i._dragContent&&(i._dragContent=n.asBoolean(t));n.toggleClass(i._dragEle,f._CSS_LINE_DRAGGABLE,i._interaction===2&&i._dragContent&&i._lines!==0)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=n.asBoolean(t))},enumerable:!0,configurable:!0}),f.prototype.onPositionChanged=function(n){this.positionChanged.raise(this,n)},f.prototype.remove=function(){var n=this,t=n._chart;n._marker&&(t.rendered.removeHandler(n._initialize,n),n._detach(),n._removeMarker(),n._wrapperMoveMarker=null,n._wrapperMousedown=null,n._wrapperMouseup=null)},f.prototype._attach=function(){var n=this;i.attach(n);n._attachDrag()},f.prototype._attachDrag=function(){var n=this;n._interaction===2&&(n._wrapperMousedown||(n._wrapperMousedown=n._onMousedown.bind(n)),n._wrapperMouseup||(n._wrapperMouseup=n._onMouseup.bind(n)),n._toggleDragEventAttach(!0))},f.prototype._detach=function(){var n=this;i.detach(n);n._detachDrag()},f.prototype._detachDrag=function(){var n=this;n._interaction===2&&n._toggleDragEventAttach(!1)},f.prototype._toggleDragEventAttach=function(n){var t=this,r=t._chart.hostElement,i=n?"addEventListener":"removeEventListener";r[i]("mousedown",t._wrapperMousedown);document[i]("mouseup",t._wrapperMouseup);"ontouchstart"in window&&r[i]("touchstart",t._wrapperMousedown);"ontouchend"in window&&document[i]("touchend",t._wrapperMouseup)},f.prototype._onMousedown=function(t){var i=this,r=i._getEventPoint(t),u,e,o;i._interaction===2&&(u=n.getElementRect(i._hLine),e=n.getElementRect(i._vLine),o=n.getElementRect(i._markerContent),i._dragContent&&i._pointInRect(r,o)?(i._capturedEle=i._markerContent,i._contentDragStartPoint=new n.Point(r.x,r.y),i._mouseDownCrossPoint=new n.Point(i._targetPoint.x,i._targetPoint.y)):Math.abs(u.top-r.y)<=i._dragThreshold||Math.abs(r.y-u.top-u.height)<=i._dragThreshold||r.y>=u.top&&r.y<=u.top+u.height?(i._capturedEle=i._hLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,f._CSS_LINE_DRAGGABLE)):(Math.abs(e.left-r.x)<=i._dragThreshold||Math.abs(r.x-e.left-e.width)<=i._dragThreshold||r.x>=e.left&&r.x<=e.left+e.width)&&(i._capturedEle=i._vLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,f._CSS_LINE_DRAGGABLE)),t.preventDefault())},f.prototype._onMouseup=function(t){var i=this,r=i._alignment===2&&i._capturedEle===i._markerContent&&i._lines!==0;i._capturedEle=undefined;i._contentDragStartPoint=undefined;i._mouseDownCrossPoint=undefined;r&&(i._updatePositionByAlignment(),i._updatePositionByAlignment());n.removeClass(i._chart.hostElement,f._CSS_LINE_DRAGGABLE);t.preventDefault()},f.prototype._moveMarker=function(i){var r=this,o=r._chart,u=r._getEventPoint(i),f=r._plotRect,c=r._interaction===2,l=r._lines===2,a=r._lines===1,s=r._seriesIndex,h,v=n.getElementRect(o.hostElement),e,y,p,w,b;if(r._isVisible&&r._interaction!==0&&(r._interaction!==2||r._capturedEle&&r._lines!==0)){if(c&&(r._contentDragStartPoint?(u.x=l?r._targetPoint.x:r._mouseDownCrossPoint.x+u.x-r._contentDragStartPoint.x,u.y=a?r._targetPoint.y:r._mouseDownCrossPoint.y+u.y-r._contentDragStartPoint.y):l||!r._dragLines&&r._capturedEle===r._hLine?u.x=r._targetPoint.x:(a||!r._dragLines&&r._capturedEle===r._vLine)&&(u.y=r._targetPoint.y)),c&&r._lines===2||!r._dragLines&&r._capturedEle===r._hLine){if(u.y<=f.top||u.y>=f.top+f.height)return}else if(c&&r._lines===1||!r._dragLines&&r._capturedEle===r._vLine){if(u.x<=f.left||u.x>=f.left+f.width)return}else if(u.x<=f.left||u.y<=f.top||u.x>=f.left+f.width||u.y>=f.top+f.height)return;if(s!=null&&s>=0&&s<o.series.length){if(h=o.series[s],e=h.hitTest(new n.Point(u.x,NaN)),e==null||e.x==null||e.y==null)return;y=h.axisX||o.axisX;p=h._getAxisY();w=n.isDate(e.x)?t.FlexChart._toOADate(e.x):e.x;b=n.isDate(e.y)?t.FlexChart._toOADate(e.y):e.y;u.x=y.convert(w)+v.left;u.y=p.convert(b)+v.top}r._updateMarkerPosition(u);i.preventDefault()}},f.prototype._show=function(n){var t=n?n:this._marker;t.style.display="block"},f.prototype._hide=function(n){var t=n?n:this._marker;t.style.display="none"},f.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},f.prototype._resetDefaultValue=function(){var t=this;t._isVisible=!0;t._alignment=2;t._lines=0;t._interaction=0;t._horizontalPosition=null;t._verticalPosition=null;t._content=null;t._seriesIndex=null;t._dragThreshold=15;t._dragContent=!1;t._dragLines=!1;t._targetPoint=new n.Point},f.prototype._initialize=function(){var i=this,r=i._chart.hostElement.querySelector("."+t.FlexChart._CSS_PLOT_AREA),u;i._plot=r;i._marker||i._createMarker();r&&(i._plotRect=n.getElementRect(r),u=r.getBBox(),i._plotRect.width=u.width,i._plotRect.height=u.height,i._updateMarkerSize(),i._updateLinesSize());i._updateMarkerPosition();i._wrapperMoveMarker=i._moveMarker.bind(i);i._attach()},f.prototype._createMarker=function(){var t=this,i,r;i=document.createElement("div");n.addClass(i,f._CSS_MARKER);r=t._getContainer();r.appendChild(i);t._markerContainer=r;t._marker=i;t._createChildren()},f.prototype._removeMarker=function(){var n=this,t=n._markerContainer;t.removeChild(n._marker);n._content=null;n._hLine=null;n._vLine=null;t.hasChildNodes()||(n._chart.hostElement.removeChild(n._markerContainer),n._markerContainer=null);n._marker=null},f.prototype._getContainer=function(){var n=this._chart.hostElement.querySelector(f._CSS_MARKER_CONTAINER);return n||(n=this._createContainer()),n},f.prototype._createContainer=function(){var t=document.createElement("div"),i=this._chart.hostElement;return n.addClass(t,f._CSS_MARKER_CONTAINER),i.insertBefore(t,i.firstChild),t},f.prototype._createChildren=function(){var t=this,r=t._marker,u,e,o,i;i=document.createElement("div");i.style.position="absolute";i.style.height="100%";i.style.width="100%";r.appendChild(i);t._dragEle=i;u=document.createElement("div");n.addClass(u,f._CSS_MARKER_CONTENT);r.appendChild(u);t._markerContent=u;e=document.createElement("div");n.addClass(e,f._CSS_MARKER_HLINE);r.appendChild(e);t._hLine=e;o=document.createElement("div");n.addClass(o,f._CSS_MARKER_VLINE);r.appendChild(o);t._vLine=o;t._toggleElesDraggableClass(t._interaction===2);t._resetLinesVisibility()},f.prototype._toggleElesDraggableClass=function(t){var i=this;n.toggleClass(i._hLine,f._CSS_LINE_DRAGGABLE,t);n.toggleClass(i._vLine,f._CSS_LINE_DRAGGABLE,t);n.toggleClass(i._dragEle,f._CSS_LINE_DRAGGABLE,t&&i._dragContent&&i._lines!==0)},f.prototype._updateMarkerSize=function(){var t=this,i=t._plotRect,r=t._chart.hostElement,u=window.getComputedStyle(r,null),f=n.getElementRect(r);t._marker&&(t._marker.style.marginTop=i.top-f.top-(parseFloat(u.getPropertyValue("padding-top"))||0)+"px",t._marker.style.marginLeft=i.left-f.left-(parseFloat(u.getPropertyValue("padding-left"))||0)+"px")},f.prototype._updateLinesSize=function(){var n=this,t=n._plotRect;n._hLine&&n._vLine&&(n._hLine.style.width=t.width+"px",n._vLine.style.height=t.height+"px")},f.prototype._resetLinesVisibility=function(){var n=this;n._hLine&&n._vLine&&(n._hide(n._hLine),n._hide(n._vLine),(n._lines===2||n._lines===3)&&n._show(n._hLine),(n._lines===1||n._lines===3)&&n._show(n._vLine))},f.prototype._updateMarkerPosition=function(n){var t=this,u=t._plotRect,f=t._targetPoint,i,r,e=!1,o=t._interaction===2;t._plot&&(i=u.left+u.width*(t._horizontalPosition||0),r=u.top+u.height*(t._verticalPosition||0),t._horizontalPosition==null&&n&&(i=n.x),t._verticalPosition==null&&n&&(r=n.y),(i!==f.x||r!==f.y)&&(e=!0),f.x=i,f.y=r,t._toggleVisibility(),t._content&&t._updateContent(),e&&t._raisePositionChanged(i,r),t._updatePositionByAlignment(n?!0:!1))},f.prototype._updateContent=function(){var n=this,r=n._chart,t=n._targetPoint,u=r.hitTest(t),i;i=n._content.call(null,u,t);n._markerContent.innerHTML=i||""},f.prototype._raisePositionChanged=function(t,i){var r=this._plotRect;this.onPositionChanged(new n.Point(t,i))},f.prototype._updatePositionByAlignment=function(){var n=this,s=n._alignment,u=n._targetPoint,f=n._marker,t=0,i=0,e=f.clientWidth,o=f.clientHeight,r=n._plotRect,h=12;n._plot&&(!n._capturedEle||n._capturedEle&&n._capturedEle!==n._markerContent?(s===2?(u.x+e+h>r.left+r.width&&(i=e),t=o,u.y-o<r.top&&(t=0)):((1&s)==1&&(i=e),(2&s)==2&&(t=o)),n._interaction===1&&t===0&&i===0&&(i=-h)):(parseInt(n._hLine.style.top)>0&&(t=o),parseInt(n._vLine.style.left)>0&&(i=e)),f.style.left=u.x-i-r.left+"px",f.style.top=u.y-t-r.top+"px",n._hLine.style.top=t+"px",n._hLine.style.left=r.left-u.x+i+"px",n._vLine.style.top=r.top-u.y+t+"px",n._vLine.style.left=i+"px")},f.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},f.prototype._pointInRect=function(n,t){return!n||!t?!1:n.x>=t.left&&n.x<=t.left+t.width&&n.y>=t.top&&n.y<=t.top+t.height?!0:!1},f._CSS_MARKER="wj-chart-linemarker",f._CSS_MARKER_HLINE="wj-chart-linemarker-hline",f._CSS_MARKER_VLINE="wj-chart-linemarker-vline",f._CSS_MARKER_CONTENT="wj-chart-linemarker-content",f._CSS_MARKER_CONTAINER="wj-chart-linemarker-container",f._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable",f}();t.LineMarker=f})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var u=function(){function n(n,t,i,r){this._seriesIndex=n;this._pointIndex=t;this._dataX=i;this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},enumerable:!0,configurable:!0}),n}(),s,f,e,r,i,o;t._DataPoint=u,function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"}(t._MeasureOption||(t._MeasureOption={}));s=t._MeasureOption;f=function(){function t(n){this._rect=n}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(n){var t=this._rect;return n.x>=t.left&&n.x<=t.right&&n.y>=t.top&&n.y<=t.bottom},t.prototype.pointDistance=function(n,t,i){var r=t.x-n.x,u=t.y-n.y;return i==0?Math.abs(r):i==1?Math.abs(u):Math.sqrt(r*r+u*u)},t.prototype.distance=function(t){var r=2,i;return t.x===null?r=1:t.y===null&&(r=0),i=this._rect,t.x<i.left?t.y<i.top?this.pointDistance(t,new n.Point(i.left,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.left,i.bottom),r):r==1?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new n.Point(i.right,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.right,i.bottom),r):r==1?0:t.x-i.right:r==0?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},t}();t._RectArea=f;e=function(){function n(n,t){this._center=n;this._rad=t;this._rad2=t*t}return Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){var t=this._center.x-n.x,i=this._center.y-n.y;return t*t+i*i<=this._rad2},n.prototype.distance=function(n){var t=isNaN(n.x)?0:this._center.x-n.x,i=isNaN(n.y)?0:this._center.y-n.y,r=t*t+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}();t._CircleArea=e;r=function(){function i(n,t){this._x=[];this._y=[];this._x=n;this._y=t}return i.prototype.contains=function(){return!1},i.prototype.distance=function(i){for(var f,u=NaN,r=0;r<this._x.length-1;r++)f=t.FlexChart._dist(i,new n.Point(this._x[r],this._y[r]),new n.Point(this._x[r+1],this._y[r+1])),(isNaN(u)||f<u)&&(u=f);return u},i}();t._LinesArea=r;i=function(){function n(){}return n}();t._HitResult=i;o=function(){function f(n){this._map={};this._chart=n}return f.prototype.add=function(n,t){this._map[t]&&(n.tag||(n.tag=new u(t,NaN,NaN,NaN)),this._map[t].push(n))},f.prototype.clear=function(){var i,n;for(this._map={},i=this._chart.series,n=0;n<i.length;n++)i[n].hitTest===t.Series.prototype.hitTest&&(this._map[n]=[])},f.prototype.hitTest=function(t,u){var e,f,a,o,v,s,h,l,c;typeof u=="undefined"&&(u=!1);e=null;f=Number.MAX_VALUE;for(a in this._map)if(o=this._map[a],o){for(v=o.length,s=v-1;s>=0;s--)if((h=o[s],!n.tryCast(h,r)||u)&&(l=h.distance(t),l<f&&(f=l,e=h,f==0)))break;if(f==0)break}return e?(c=new i,c.area=e,c.distance=f,c):null},f.prototype.hitTestSeries=function(n,t){var e=null,r=Number.MAX_VALUE,o=this._map[t],c,u,s,h,f;if(o)for(c=o.length,u=c-1;u>=0;u--)if(s=o[u],h=s.distance(n),h<r&&(r=h,e=s,r==0))break;return e?(f=new i,f.area=e,f.distance=r,f):null},f}();t._HitTester=o})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}return i.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0},i.prototype.getNumOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&r[t])?n.asNumber(r[t],!0):undefined},i.prototype.cloneStyle=function(n,t){var r,i;if(!n)return n;r={};for(i in n)t&&t.indexOf(i)>=0||(r[i]=n[i]);return r},i.prototype.isValid=function(i,r){return t._DataInfo.isValid(i)&&t._DataInfo.isValid(r)&&t.FlexChart._contains(this.chart._plotRect,new n.Point(i,r))},i}();t._BasePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.apply(this,arguments);this.origin=0;this.width=.7;this.stackPosMap={};this.stackNegMap={};this.stacking=0}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNegMap[this.chart.axisY._uniqueId]={};this.stackPosMap[this.chart.axisY._uniqueId]={}},r.prototype.adjustLimits=function(t){this.dataInfo=t;var f=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),r=t.getMaxY(),u=t.getDeltaX();return u<=0&&(u=1),this.rotated?(this.chart.axisY.logBase||(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin)),new n.Rect(i,f-.5*u,r-i,e-f+u)):(this.chart.axisY.logBase||(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin)),new n.Rect(f-.5*u,i,e-f+u,r-i))},r.prototype.plotSeries=function(i,r,u,f,e,o,s){var g=this.chart.series.indexOf(f),ui=f,ti=this.chart.options,w=this.width,b=0,lt,et,p,wt,yt,d,rt,gt,ht,l,c,a,ft,tt,ut,nt,dt,v,h,ct,y,ni,k;ti&&ti.groupWidth&&(lt=ti.groupWidth,n.isNumber(lt)?(p=n.asNumber(lt),isFinite(p)&&p>0&&(b=p,w=1)):n.isString(lt)&&(et=n.asString(lt),et&&et.indexOf("%")>=0?(et=et.replace("%",""),p=parseFloat(et),isFinite(p)&&(p<0?p=0:p>100&&(p=100),b=0,w=p/100)):(p=parseFloat(et),isFinite(p)&&p>0&&(b=p,w=1))));var at=w/s,fi=ui._getAxisY()._uniqueId,ot=this.stackNegMap[fi],st=this.stackPosMap[fi],pt=f.getValues(0),it=f.getValues(1);if(pt){it||(it=this.dataInfo.getXVals());it&&(wt=this.dataInfo.getDeltaX(),wt>0&&(w*=wt,at*=wt));var vt=f.style,bt=null,kt=null;if(vt&&(vt.fill&&(bt=vt.fill),vt.stroke&&(kt=vt.stroke)),bt||(bt=e._getColorLight(g)),kt||(kt=e._getColor(g)),i.fill=bt,i.stroke=kt,yt=pt.length,it!=null&&(yt=Math.min(yt,it.length)),d=this.origin,rt=0,this.rotated){for(d<r.actualMin?d=r.actualMin:d>r.actualMax&&(d=r.actualMax),ht=r.convert(d),l=0;l<yt;l++)if(c=it?it[l]:l,a=pt[l],t._DataInfo.isValid(c)&&t._DataInfo.isValid(a))if(this.stacking!=0)ft=u.convert(c-.5*w),tt=u.convert(c+.5*w),this.stacking==2&&(dt=this.dataInfo.getStackedAbsSum(c),a=a/dt),v=0,a>0?(v=isNaN(st[c])?0:st[c],ut=r.convert(v),nt=r.convert(v+a),st[c]=v+a):(v=isNaN(ot[c])?0:ot[c],ut=r.convert(v),nt=r.convert(v+a),ot[c]=v+a),h=new n.Rect(Math.min(ut,nt),Math.min(ft,tt),Math.abs(nt-ut),Math.abs(tt-ft)),b>0&&(y=1-b/h.height,y<0&&(y=0),ni=h.top+.5*h.height,h.top+=(ni-h.top)*y,h.height=Math.min(b,h.height)),k=new t._RectArea(h),this.drawSymbol(i,h,f,l,new n.Point(nt,h.top+.5*h.height)),f._setPointIndex(l,rt),rt++,k.tag=new t._DataPoint(g,l,v+a,c),this.hitTester.add(k,g);else{var ft=u.convert(c-.5*w+o*at),tt=u.convert(c-.5*w+(o+1)*at),ri=r.convert(a),h=new n.Rect(Math.min(ri,ht),Math.min(ft,tt),Math.abs(ht-ri),Math.abs(tt-ft));b>0&&(ct=b/s,y=1-ct/h.height,y<0&&(y=0),ni=u.convert(c),h.top+=(ni-h.top)*y,h.height=Math.min(ct,h.height));k=new t._RectArea(h);this.drawSymbol(i,h,f,l,new n.Point(ri,h.top+.5*h.height));f._setPointIndex(l,rt);rt++;k.tag=new t._DataPoint(g,l,a,c);this.hitTester.add(k,g)}}else for(d<u.actualMin?d=u.actualMin:d>u.actualMax&&(d=u.actualMax),ht=u.convert(d),l=0;l<yt;l++)if(c=it?it[l]:l,a=pt[l],t._DataInfo.isValid(c)&&t._DataInfo.isValid(a))if(this.stacking==0||ui._isCustomAxisY()){var ut=r.convert(c-.5*w+o*at),nt=r.convert(c-.5*w+(o+1)*at),ii=u.convert(a),h=new n.Rect(Math.min(ut,nt),Math.min(ii,ht),Math.abs(nt-ut),Math.abs(ht-ii));b>0&&(ct=b/s,y=1-ct/h.width,y<0&&(y=0),gt=r.convert(c),h.left+=(gt-h.left)*y,h.width=Math.min(ct,h.width));k=new t._RectArea(h);this.drawSymbol(i,h,f,l,new n.Point(h.left+.5*h.width,ii));f._setPointIndex(l,rt);rt++;k.tag=new t._DataPoint(g,l,c,a);this.hitTester.add(k,g)}else ut=r.convert(c-.5*w),nt=r.convert(c+.5*w),this.stacking==2&&(dt=this.dataInfo.getStackedAbsSum(c),a=a/dt),v=0,a>0?(v=isNaN(st[c])?0:st[c],ft=u.convert(v),tt=u.convert(v+a),st[c]=v+a):(v=isNaN(ot[c])?0:ot[c],ft=u.convert(v),tt=u.convert(v+a),ot[c]=v+a),h=new n.Rect(Math.min(ut,nt),Math.min(ft,tt),Math.abs(nt-ut),Math.abs(tt-ft)),b>0&&(y=1-b/h.width,y<0&&(y=0),gt=h.left+.5*h.width,h.left+=(gt-h.left)*y,h.width=Math.min(b,h.width)),k=new t._RectArea(h),this.drawSymbol(i,h,f,l,new n.Point(h.left+.5*h.width,tt)),f._setPointIndex(l,rt),rt++,k.tag=new t._DataPoint(g,l,c,v+a),this.hitTester.add(k,g)}},r.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f),e._chartElement=8,e._pointIndex=u,e._series=r,this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},r.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},r}(t._BasePlotter);t._BarPlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.call(this);this.hasSymbols=!1;this.hasLines=!0;this.isSpline=!1;this.stacking=0;this.stackPos={};this.stackNeg={};this.clipping=!1}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&!this.chart.axisY.logBase&&(f=.1*(u-i),i-=f,u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.plotSeries=function(i,r,u,f,e){var k=n.asType(f,t.SeriesBase),l=this.chart.series.indexOf(f),nt=f.getValues(0),p=f.getValues(1),ht,g,et,ct,ot,b,c,y,o,s,h;if(nt){p||(p=this.dataInfo.getXVals());var tt=this.cloneStyle(f.style,["fill"]),w=nt.length,st=!0;p?w=Math.min(w,p.length):(st=!1,p=new Array(w));var lt=this._DEFAULT_WIDTH,d=null,it=null,rt=k._getSymbolSize();d===null&&(d=e._getColorLight(l));it===null&&(it=e._getColor(l));i.stroke=it;i.strokeWidth=lt;i.fill=d;var a=[],v=[],at=this.rotated,vt=this.stacking!=0&&!k._isCustomAxisY(),yt=this.stacking==2&&!k._isCustomAxisY(),ut=this.chart.interpolateNulls,ft=!1;for(o=0;o<w;o++)s=st?p[o]:o,h=nt[o],t._DataInfo.isValid(s)&&t._DataInfo.isValid(h)?(vt&&(yt&&(ht=this.dataInfo.getStackedAbsSum(s),h=h/ht),h>=0?(g=isNaN(this.stackPos[s])?0:this.stackPos[s],h=this.stackPos[s]=g+h):(g=isNaN(this.stackNeg[s])?0:this.stackNeg[s],h=this.stackNeg[s]=g+h)),at?(et=new t._DataPoint(l,o,h,s),ct=r.convert(h),h=u.convert(s),s=ct):(et=new t._DataPoint(l,o,s,h),s=r.convert(s),h=u.convert(h)),isNaN(s)||isNaN(h)?(ft=!0,ut!==!0&&(a.push(undefined),v.push(undefined))):(a.push(s),v.push(h),ot=new t._CircleArea(new n.Point(s,h),.5*rt),ot.tag=et,this.hitTester.add(ot,l))):(ft=!0,ut!==!0&&(a.push(undefined),v.push(undefined)));if(b=0,this.hasLines)if(i.fill=null,ft&&ut!==!0){for(c=[],y=[],o=0;o<w;o++)a[o]===undefined?(c.length>1&&(this._drawLines(i,c,y,null,tt,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(c,y),l),b++),c=[],y=[]):(c.push(a[o]),y.push(v[o]));c.length>1&&(this._drawLines(i,c,y,null,tt,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(c,y),l),b++)}else this._drawLines(i,a,v,null,tt,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(a,v),l),b++;if((this.hasSymbols||this.chart.itemFormatter)&&rt>0)for(i.fill=d,o=0;o<w;o++)s=a[o],h=v[o],this.isValid(s,h,r,u)&&(this._drawSymbol(i,s,h,rt,k,o),f._setPointIndex(o,b),b++)}},r.prototype._drawLines=function(n,t,i,r,u,f){this.isSpline?n.drawSplines(t,i,r,u,f):n.drawLines(t,i,r,u,f)},r.prototype._drawSymbol=function(i,r,u,f,e,o){var h=this,s;this.chart.itemFormatter?(i.startGroup(),s=new t.HitTestInfo(this.chart,new n.Point(r,u)),s._chartElement=8,s._pointIndex=o,s._series=e,this.chart.itemFormatter(i,s,function(){h.hasSymbols&&h._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)},r.prototype._drawDefaultSymbol=function(n,t,i,r,u,f){u==0?n.drawEllipse(t,i,.5*r,.5*r,null,f):u==1&&n.drawRect(t-.5*r,i-.5*r,r,r,null,f)},r}(t._BasePlotter);t._LinePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.call(this);this.stacking=0;this.isSpline=!1;this.stackPos={};this.stackNeg={}}return __extends(r,i),r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&(f=.1*(u-i),this.chart.axisY.logBase||(i-=f),u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.plotSeries=function(i,r,u,f,e){var w=this.chart.series.indexOf(f),bt=f,ht=f.getValues(0),d=f.getValues(1),nt,ct,c,v,y,dt,p,b,ut,o,l,a,k,wt;if(ht){nt=ht.length;d||(d=this.dataInfo.getXVals());ct=!0;d?d.length<nt&&(nt=d.length):(ct=!1,d=new Array(nt));var s=[],h=[],tt=[],it=[],g=this.stacking!=0&&!bt._isCustomAxisY(),gt=this.stacking==2&&!bt._isCustomAxisY(),rt=this.rotated,ot=!1,st=this.chart.interpolateNulls,ft=null,et=null,kt=this.chart._plotRect;for(a=0;a<nt;a++)c=ct?d[a]:a,v=ht[a],(ft===null||c>ft)&&(ft=c),(et===null||c<et)&&(et=c),t._DataInfo.isValid(c)&&t._DataInfo.isValid(v)?(y=rt?u.convert(c):r.convert(c),g&&(gt&&(dt=this.dataInfo.getStackedAbsSum(c),v=v/dt),p=0,v>=0?(p=isNaN(this.stackPos[c])?0:this.stackPos[c],v=this.stackPos[c]=p+v):(p=isNaN(this.stackNeg[c])?0:this.stackNeg[c],v=this.stackNeg[c]=p+v),rt?(p<r.actualMin&&(p=r.actualMin),tt.push(r.convert(p)),it.push(y)):(tt.push(y),p<u.actualMin&&(p=u.actualMin),it.push(u.convert(p)))),rt?(b=r.convert(v),isNaN(y)||isNaN(b)?(ot=!0,g||st===!0||(s.push(undefined),h.push(undefined))):(s.push(b),h.push(y),t.FlexChart._contains(kt,new n.Point(b,y))&&(ut=new t._CircleArea(new n.Point(b,y),this._DEFAULT_SYM_SIZE),ut.tag=new t._DataPoint(w,a,v,c),this.hitTester.add(ut,w)))):(b=u.convert(v),isNaN(y)||isNaN(b)?(ot=!0,g||st===!0||(s.push(undefined),h.push(undefined))):(s.push(y),h.push(b),t.FlexChart._contains(kt,new n.Point(y,b))&&(ut=new t._CircleArea(new n.Point(y,b),this._DEFAULT_SYM_SIZE),ut.tag=new t._DataPoint(w,a,c,v),this.hitTester.add(ut,w))))):(ot=!0,g||st===!0||(s.push(undefined),h.push(undefined)));var lt=this._DEFAULT_WIDTH,at=e._getColorLight(w),vt=e._getColor(w),yt=this.cloneStyle(f.style,["fill"]),pt=this.cloneStyle(f.style,["stroke"]);if(!g&&st!==!0&&ot){for(o=[],l=[],a=0;a<nt;a++)s[a]===undefined?(o.length>1&&(this.isSpline&&(k=this._convertToSpline(o,l),o=k.xs,l=k.ys),i.stroke=vt,i.strokeWidth=lt,i.fill="none",i.drawLines(o,l,null,yt),this.hitTester.add(new t._LinesArea(o,l),w),rt?(o.push(r.convert(r.actualMin),r.convert(r.actualMin)),l.push(u.convert(u.actualMax),u.convert(u.actualMin))):(o.push(o[o.length-1],o[0]),l.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=at,i.stroke="none",i.drawPolygon(o,l,null,pt)),o=[],l=[]):(o.push(s[a]),l.push(h[a]));o.length>1&&(this.isSpline&&(k=this._convertToSpline(o,l),o=k.xs,l=k.ys),i.stroke=vt,i.strokeWidth=lt,i.fill="none",i.drawLines(o,l,null,yt),this.hitTester.add(new t._LinesArea(o,l),w),rt?(o.push(r.convert(r.actualMin),r.convert(r.actualMin)),l.push(u.convert(u.actualMax),u.convert(u.actualMin))):(o.push(o[o.length-1],o[0]),l.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=at,i.stroke="none",i.drawPolygon(o,l,null,pt))}else this.isSpline&&(k=this._convertToSpline(s,h),s=k.xs,h=k.ys),g?(this.isSpline&&(wt=this._convertToSpline(tt,it),tt=wt.xs,it=wt.ys),s=s.concat(tt.reverse()),h=h.concat(it.reverse())):rt?(s.push(r.convert(r.actualMin),r.convert(r.actualMin)),h.push(u.convert(ft),u.convert(et))):(s.push(r.convert(ft),r.convert(et)),h.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=at,i.stroke="none",i.drawPolygon(s,h,null,pt),g?(s=s.slice(0,s.length-tt.length),h=h.slice(0,h.length-it.length)):(s=s.slice(0,s.length-2),h=h.slice(0,h.length-2)),i.stroke=vt,i.strokeWidth=lt,i.fill="none",i.drawLines(s,h,null,yt),this.hitTester.add(new t._LinesArea(s,h),w);this._drawSymbols(i,f,w)}},r.prototype._convertToSpline=function(n,i){if(n&&i){var u=new t._Spline(n,i),r=u.calculate();return{xs:r.xs,ys:r.ys}}return{xs:n,ys:i}},r.prototype._drawSymbols=function(i,r,u){var s,e,o,h,f;if(this.chart.itemFormatter!=null)for(s=this.hitTester._map[u],e=0;e<s.length;e++)o=n.tryCast(s[e],t._CircleArea),o&&(h=o.tag,i.startGroup(),f=new t.HitTestInfo(this.chart,o.center),f._chartElement=8,f._pointIndex=h.pointIndex,f._series=r,this.chart.itemFormatter(i,f,function(){}),i.endGroup())},r}(t._BasePlotter);t._AreaPlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.call(this);this._MIN_SIZE=5;this._MAX_SIZE=30;this.hasLines=!1;this.hasSymbols=!0;this.clipping=!0}return __extends(r,i),r.prototype.adjustLimits=function(n,r){var a=this.getNumOption("minSize","bubble"),c,h,y,u,p,f,b,l;this._minSize=a?a:this._MIN_SIZE;c=this.getNumOption("maxSize","bubble");this._maxSize=c?c:this._MAX_SIZE;var v=this.chart.series,k=v.length,o=NaN,s=NaN;for(h=0;h<k;h++)if(y=v[h],u=y._getBindingValues(1),u)for(p=u.length,f=0;f<p;f++)t._DataInfo.isValid(u[f])&&((isNaN(o)||u[f]<o)&&(o=u[f]),(isNaN(s)||u[f]>s)&&(s=u[f]));this._minValue=o;this._maxValue=s;var e=i.prototype.adjustLimits.call(this,n,r),d=r.width-this._maxSize,w=d/e.width;return e.left-=this._maxSize*.5/w,e.width+=this._maxSize/w,b=r.height-this._maxSize,l=b/e.height,e.top-=this._maxSize*.5/l,e.height+=this._maxSize/l,e},r.prototype._drawSymbol=function(i,r,u,f,e,o){var a=this,c=e._getItem(o),h,f,l,s;c&&(h=e._getBinding(1),h&&(f=c[h],t._DataInfo.isValid(f)&&(l=this._minValue==this._maxValue?1:Math.sqrt((f-this._minValue)/(this._maxValue-this._minValue)),f=this._minSize+(this._maxSize-this._minSize)*l,this.chart.itemFormatter?(s=new t.HitTestInfo(this.chart,new n.Point(r,u)),s._chartElement=8,s._pointIndex=o,s._series=e,i.startGroup(),this.chart.itemFormatter(i,s,function(){a._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle))))},r}(t._LinePlotter);t._BubblePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.apply(this,arguments);this.isCandle=!0}return __extends(r,i),r.prototype.adjustLimits=function(i){var l,r,f,a,e,g,o,s,v;this.dataInfo=i;var h=i.getMinX(),u=i.getMinY(),nt=i.getMaxX(),c=i.getMaxY(),y=this.chart.series,tt=y.length,p=0;for(l=0;l<tt;l++)if(r=y[l],!r._isCustomAxisY()){var w=r._getBinding(1),b=r._getBinding(2),k=r._getBinding(3),d=r._getLength();if(d)for(f=r._getSymbolSize(),f>p&&(p=f),a=0;a<d;a++)e=r._getItem(a),e&&(g=[w?e[w]:null,b?e[b]:null,k?e[k]:null],g.forEach(function(n){t._DataInfo.isValid(n)&&n!==null&&((isNaN(u)||n<u)&&(u=n),(isNaN(c)||n>c)&&(c=n))}))}return o=nt-h,s=this.chart._plotRect,s&&s.width&&(f+=2,v=s.width/(s.width-f)*o,h=h-.5*(v-o),o=v),new n.Rect(h,u,o,c-u)},r.prototype.plotSeries=function(i,r,u,f){var et=this,o=n.asType(f,t.SeriesBase),v=this.chart.series.indexOf(f),y=f.getValues(0),h=f.getValues(1),c,p,e,l,s,d,a;if(y){h||(h=this.dataInfo.getXVals());c=y.length;p=!0;h?c=Math.min(c,h.length):(p=!1,h=new Array(c));var ot=this._DEFAULT_WIDTH,g=o._getSymbolFill(v),st=o._getSymbolStroke(v),nt=o._getSymbolSize(),lt=f.symbolStyle;i.stroke=st;i.strokeWidth=ot;i.fill=g;var tt=o._getBinding(1),it=o._getBinding(2),rt=o._getBinding(3),ht=r.actualMin,ct=r.actualMax,ut=0;for(e=0;e<c;e++)if(l=o._getItem(e),l&&(s=p?h[e]:e,t._DataInfo.isValid(s)&&ht<=s&&s<=ct)){var w=y[e],ft=tt?l[tt]:null,b=it?l[it]:null,k=rt?l[rt]:null;i.startGroup();d=b<k?"transparent":g;this.chart.itemFormatter?(a=new t.HitTestInfo(this.chart,new n.Point(r.convert(s),u.convert(w))),a._chartElement=8,a._pointIndex=e,a._series=o,this.chart.itemFormatter(i,a,function(){et._drawSymbol(i,r,u,v,e,d,nt,s,w,ft,b,k)})):this._drawSymbol(i,r,u,v,e,d,nt,s,w,ft,b,k);i.endGroup();f._setPointIndex(e,ut);ut++}}},r.prototype._drawSymbol=function(i,r,u,f,e,o,s,h,c,l,a,v){var b=new t._DataPoint(f,e,h,c),p,y,w;h=r.convert(h);this.isCandle?(y=null,w=null,t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(i.fill=o,a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),i.drawRect(h-.5*s,y,s,w-y),p=new t._RectArea(new n.Rect(h-.5*s,y,s,w-y)),p.tag=b,this.hitTester.add(p,f)),t._DataInfo.isValid(c)&&(c=u.convert(c),y!==null&&i.drawLine(h,y,h,c)),t._DataInfo.isValid(l)&&(l=u.convert(l),w!==null&&i.drawLine(h,w,h,l))):(t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),i.drawLine(h,l,h,c),p=new t._RectArea(new n.Rect(h-.5*s,Math.min(c,l),s,Math.abs(c-l))),p.tag=b,this.hitTester.add(p,f)),t._DataInfo.isValid(a)&&(a=u.convert(a),i.drawLine(h-.5*s,a,h,a)),t._DataInfo.isValid(v)&&(v=u.convert(v),i.drawLine(h,v,h+.5*s,v)))},r}(t._BasePlotter);t._FinancePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}))